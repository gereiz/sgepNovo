{
  "version": 3,
  "sources": ["../../@formkit/addons/node_modules/@formkit/auto-animate/index.mjs", "../../@formkit/addons/dist/index.mjs"],
  "sourcesContent": ["/**\n * A set of all the parents currently being observe. This is the only non weak\n * registry.\n */\nconst parents = new Set();\n/**\n * Element coordinates that is constantly kept up to date.\n */\nconst coords = new WeakMap();\n/**\n * Siblings of elements that have been removed from the dom.\n */\nconst siblings = new WeakMap();\n/**\n * Animations that are currently running.\n */\nconst animations = new WeakMap();\n/**\n * A map of existing intersection observers used to track element movements.\n */\nconst intersections = new WeakMap();\n/**\n * Intervals for automatically checking the position of elements occasionally.\n */\nconst intervals = new WeakMap();\n/**\n * The configuration options for each group of elements.\n */\nconst options = new WeakMap();\n/**\n * Debounce counters by id, used to debounce calls to update positions.\n */\nconst debounces = new WeakMap();\n/**\n * All parents that are currently enabled are tracked here.\n */\nconst enabled = new WeakSet();\n/**\n * The document used to calculate transitions.\n */\nlet root;\n/**\n * The rootâ€™s XY scroll positions.\n */\nlet scrollX = 0;\nlet scrollY = 0;\n/**\n * Used to sign an element as the target.\n */\nconst TGT = \"__aa_tgt\";\n/**\n * Used to sign an element as being part of a removal.\n */\nconst DEL = \"__aa_del\";\n/**\n * Used to sign an element as being \"new\". When an element is removed from the\n * dom, but may cycle back in we can sign it with new to ensure the next time\n * it is recognized we consider it new.\n */\nconst NEW = \"__aa_new\";\n/**\n * Callback for handling all mutations.\n * @param mutations - A mutation list\n */\nconst handleMutations = (mutations) => {\n    const elements = getElements(mutations);\n    // If elements is \"false\" that means this mutation that should be ignored.\n    if (elements) {\n        elements.forEach((el) => animate(el));\n    }\n};\n/**\n *\n * @param entries - Elements that have been resized.\n */\nconst handleResizes = (entries) => {\n    entries.forEach((entry) => {\n        if (entry.target === root)\n            updateAllPos();\n        if (coords.has(entry.target))\n            updatePos(entry.target);\n    });\n};\n/**\n * Observe this elements position.\n * @param el - The element to observe the position of.\n */\nfunction observePosition(el) {\n    const oldObserver = intersections.get(el);\n    oldObserver === null || oldObserver === void 0 ? void 0 : oldObserver.disconnect();\n    let rect = coords.get(el);\n    let invocations = 0;\n    const buffer = 5;\n    if (!rect) {\n        rect = getCoords(el);\n        coords.set(el, rect);\n    }\n    const { offsetWidth, offsetHeight } = root;\n    const rootMargins = [\n        rect.top - buffer,\n        offsetWidth - (rect.left + buffer + rect.width),\n        offsetHeight - (rect.top + buffer + rect.height),\n        rect.left - buffer,\n    ];\n    const rootMargin = rootMargins\n        .map((px) => `${-1 * Math.floor(px)}px`)\n        .join(\" \");\n    const observer = new IntersectionObserver(() => {\n        ++invocations > 1 && updatePos(el);\n    }, {\n        root,\n        threshold: 1,\n        rootMargin,\n    });\n    observer.observe(el);\n    intersections.set(el, observer);\n}\n/**\n * Update the exact position of a given element.\n * @param el - An element to update the position of.\n */\nfunction updatePos(el) {\n    clearTimeout(debounces.get(el));\n    const optionsOrPlugin = getOptions(el);\n    const delay = isPlugin(optionsOrPlugin) ? 500 : optionsOrPlugin.duration;\n    debounces.set(el, setTimeout(async () => {\n        const currentAnimation = animations.get(el);\n        try {\n            await (currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.finished);\n            coords.set(el, getCoords(el));\n            observePosition(el);\n        }\n        catch {\n            // ignore errors as the `.finished` promise is rejected when animations were cancelled\n        }\n    }, delay));\n}\n/**\n * Updates all positions that are currently being tracked.\n */\nfunction updateAllPos() {\n    clearTimeout(debounces.get(root));\n    debounces.set(root, setTimeout(() => {\n        parents.forEach((parent) => forEach(parent, (el) => lowPriority(() => updatePos(el))));\n    }, 100));\n}\n/**\n * Its possible for a quick scroll or other fast events to get past the\n * intersection observer, so occasionally we need want \"cold-poll\" for the\n * latests and greatest position. We try to do this in the most non-disruptive\n * fashion possible. First we only do this ever couple seconds, staggard by a\n * random offset.\n * @param el - Element\n */\nfunction poll(el) {\n    setTimeout(() => {\n        intervals.set(el, setInterval(() => lowPriority(updatePos.bind(null, el)), 2000));\n    }, Math.round(2000 * Math.random()));\n}\n/**\n * Perform some operation that is non critical at some point.\n * @param callback\n */\nfunction lowPriority(callback) {\n    if (typeof requestIdleCallback === \"function\") {\n        requestIdleCallback(() => callback());\n    }\n    else {\n        requestAnimationFrame(() => callback());\n    }\n}\n/**\n * The mutation observer responsible for watching each root element.\n */\nlet mutations;\n/**\n * A resize observer, responsible for recalculating elements on resize.\n */\nlet resize;\n/**\n * If this is in a browser, initialize our Web APIs\n */\nif (typeof window !== \"undefined\") {\n    root = document.documentElement;\n    mutations = new MutationObserver(handleMutations);\n    resize = new ResizeObserver(handleResizes);\n    window.addEventListener(\"scroll\", () => {\n        scrollY = window.scrollY;\n        scrollX = window.scrollX;\n    });\n    resize.observe(root);\n}\n/**\n * Retrieves all the elements that may have been affected by the last mutation\n * including ones that have been removed and are no longer in the DOM.\n * @param mutations - A mutation list.\n * @returns\n */\nfunction getElements(mutations) {\n    const observedNodes = mutations.reduce((nodes, mutation) => {\n        return [\n            ...nodes,\n            ...Array.from(mutation.addedNodes),\n            ...Array.from(mutation.removedNodes),\n        ];\n    }, []);\n    // Short circuit if _only_ comment nodes are observed\n    const onlyCommentNodesObserved = observedNodes.every((node) => node.nodeName === \"#comment\");\n    if (onlyCommentNodesObserved)\n        return false;\n    return mutations.reduce((elements, mutation) => {\n        // Short circuit if we find a purposefully deleted node.\n        if (elements === false)\n            return false;\n        if (mutation.target instanceof Element) {\n            target(mutation.target);\n            if (!elements.has(mutation.target)) {\n                elements.add(mutation.target);\n                for (let i = 0; i < mutation.target.children.length; i++) {\n                    const child = mutation.target.children.item(i);\n                    if (!child)\n                        continue;\n                    if (DEL in child) {\n                        return false;\n                    }\n                    target(mutation.target, child);\n                    elements.add(child);\n                }\n            }\n            if (mutation.removedNodes.length) {\n                for (let i = 0; i < mutation.removedNodes.length; i++) {\n                    const child = mutation.removedNodes[i];\n                    if (DEL in child) {\n                        return false;\n                    }\n                    if (child instanceof Element) {\n                        elements.add(child);\n                        target(mutation.target, child);\n                        siblings.set(child, [\n                            mutation.previousSibling,\n                            mutation.nextSibling,\n                        ]);\n                    }\n                }\n            }\n        }\n        return elements;\n    }, new Set());\n}\n/**\n * Assign the target to an element.\n * @param el - The root element\n * @param child\n */\nfunction target(el, child) {\n    if (!child && !(TGT in el))\n        Object.defineProperty(el, TGT, { value: el });\n    else if (child && !(TGT in child))\n        Object.defineProperty(child, TGT, { value: el });\n}\n/**\n * Determines what kind of change took place on the given element and then\n * performs the proper animation based on that.\n * @param el - The specific element to animate.\n */\nfunction animate(el) {\n    var _a;\n    const isMounted = el.isConnected;\n    const preExisting = coords.has(el);\n    if (isMounted && siblings.has(el))\n        siblings.delete(el);\n    if (animations.has(el)) {\n        (_a = animations.get(el)) === null || _a === void 0 ? void 0 : _a.cancel();\n    }\n    if (NEW in el) {\n        add(el);\n    }\n    else if (preExisting && isMounted) {\n        remain(el);\n    }\n    else if (preExisting && !isMounted) {\n        remove(el);\n    }\n    else {\n        add(el);\n    }\n}\n/**\n * Removes all non-digits from a string and casts to a number.\n * @param str - A string containing a pixel value.\n * @returns\n */\nfunction raw(str) {\n    return Number(str.replace(/[^0-9.\\-]/g, \"\"));\n}\n/**\n * Get the scroll offset of elements\n * @param el - Element\n * @returns\n */\nfunction getScrollOffset(el) {\n    let p = el.parentElement;\n    while (p) {\n        if (p.scrollLeft || p.scrollTop) {\n            return { x: p.scrollLeft, y: p.scrollTop };\n        }\n        p = p.parentElement;\n    }\n    return { x: 0, y: 0 };\n}\n/**\n * Get the coordinates of elements adjusted for scroll position.\n * @param el - Element\n * @returns\n */\nfunction getCoords(el) {\n    const rect = el.getBoundingClientRect();\n    const { x, y } = getScrollOffset(el);\n    return {\n        top: rect.top + y,\n        left: rect.left + x,\n        width: rect.width,\n        height: rect.height,\n    };\n}\n/**\n * Returns the width/height that the element should be transitioned between.\n * This takes into account box-sizing.\n * @param el - Element being animated\n * @param oldCoords - Old set of Coordinates coordinates\n * @param newCoords - New set of Coordinates coordinates\n * @returns\n */\nfunction getTransitionSizes(el, oldCoords, newCoords) {\n    let widthFrom = oldCoords.width;\n    let heightFrom = oldCoords.height;\n    let widthTo = newCoords.width;\n    let heightTo = newCoords.height;\n    const styles = getComputedStyle(el);\n    const sizing = styles.getPropertyValue(\"box-sizing\");\n    if (sizing === \"content-box\") {\n        const paddingY = raw(styles.paddingTop) +\n            raw(styles.paddingBottom) +\n            raw(styles.borderTopWidth) +\n            raw(styles.borderBottomWidth);\n        const paddingX = raw(styles.paddingLeft) +\n            raw(styles.paddingRight) +\n            raw(styles.borderRightWidth) +\n            raw(styles.borderLeftWidth);\n        widthFrom -= paddingX;\n        widthTo -= paddingX;\n        heightFrom -= paddingY;\n        heightTo -= paddingY;\n    }\n    return [widthFrom, widthTo, heightFrom, heightTo].map(Math.round);\n}\n/**\n * Retrieves animation options for the current element.\n * @param el - Element to retrieve options for.\n * @returns\n */\nfunction getOptions(el) {\n    return TGT in el && options.has(el[TGT])\n        ? options.get(el[TGT])\n        : { duration: 250, easing: \"ease-in-out\" };\n}\n/**\n * Returns the target of a given animation (generally the parent).\n * @param el - An element to check for a target\n * @returns\n */\nfunction getTarget(el) {\n    if (TGT in el)\n        return el[TGT];\n    return undefined;\n}\n/**\n * Checks if animations are enabled or disabled for a given element.\n * @param el - Any element\n * @returns\n */\nfunction isEnabled(el) {\n    const target = getTarget(el);\n    return target ? enabled.has(target) : false;\n}\n/**\n * Iterate over the children of a given parent.\n * @param parent - A parent element\n * @param callback - A callback\n */\nfunction forEach(parent, ...callbacks) {\n    callbacks.forEach((callback) => callback(parent, options.has(parent)));\n    for (let i = 0; i < parent.children.length; i++) {\n        const child = parent.children.item(i);\n        if (child) {\n            callbacks.forEach((callback) => callback(child, options.has(child)));\n        }\n    }\n}\n/**\n * Always return tuple to provide consistent interface\n */\nfunction getPluginTuple(pluginReturn) {\n    if (Array.isArray(pluginReturn))\n        return pluginReturn;\n    return [pluginReturn];\n}\n/**\n * Determine if config is plugin\n */\nfunction isPlugin(config) {\n    return typeof config === \"function\";\n}\n/**\n * The element in question is remaining in the DOM.\n * @param el - Element to flip\n * @returns\n */\nfunction remain(el) {\n    const oldCoords = coords.get(el);\n    const newCoords = getCoords(el);\n    if (!isEnabled(el))\n        return coords.set(el, newCoords);\n    let animation;\n    if (!oldCoords)\n        return;\n    const pluginOrOptions = getOptions(el);\n    if (typeof pluginOrOptions !== \"function\") {\n        const deltaX = oldCoords.left - newCoords.left;\n        const deltaY = oldCoords.top - newCoords.top;\n        const [widthFrom, widthTo, heightFrom, heightTo] = getTransitionSizes(el, oldCoords, newCoords);\n        const start = {\n            transform: `translate(${deltaX}px, ${deltaY}px)`,\n        };\n        const end = {\n            transform: `translate(0, 0)`,\n        };\n        if (widthFrom !== widthTo) {\n            start.width = `${widthFrom}px`;\n            end.width = `${widthTo}px`;\n        }\n        if (heightFrom !== heightTo) {\n            start.height = `${heightFrom}px`;\n            end.height = `${heightTo}px`;\n        }\n        animation = el.animate([start, end], {\n            duration: pluginOrOptions.duration,\n            easing: pluginOrOptions.easing,\n        });\n    }\n    else {\n        const [keyframes] = getPluginTuple(pluginOrOptions(el, \"remain\", oldCoords, newCoords));\n        animation = new Animation(keyframes);\n        animation.play();\n    }\n    animations.set(el, animation);\n    coords.set(el, newCoords);\n    animation.addEventListener(\"finish\", updatePos.bind(null, el));\n}\n/**\n * Adds the element with a transition.\n * @param el - Animates the element being added.\n */\nfunction add(el) {\n    if (NEW in el)\n        delete el[NEW];\n    const newCoords = getCoords(el);\n    coords.set(el, newCoords);\n    const pluginOrOptions = getOptions(el);\n    if (!isEnabled(el))\n        return;\n    let animation;\n    if (typeof pluginOrOptions !== \"function\") {\n        animation = el.animate([\n            { transform: \"scale(.98)\", opacity: 0 },\n            { transform: \"scale(0.98)\", opacity: 0, offset: 0.5 },\n            { transform: \"scale(1)\", opacity: 1 },\n        ], {\n            duration: pluginOrOptions.duration * 1.5,\n            easing: \"ease-in\",\n        });\n    }\n    else {\n        const [keyframes] = getPluginTuple(pluginOrOptions(el, \"add\", newCoords));\n        animation = new Animation(keyframes);\n        animation.play();\n    }\n    animations.set(el, animation);\n    animation.addEventListener(\"finish\", updatePos.bind(null, el));\n}\n/**\n * Clean up after removing an element from the dom.\n * @param el - Element being removed\n * @param styles - Optional styles that should be removed from the element.\n */\nfunction cleanUp(el, styles) {\n    var _a;\n    el.remove();\n    coords.delete(el);\n    siblings.delete(el);\n    animations.delete(el);\n    (_a = intersections.get(el)) === null || _a === void 0 ? void 0 : _a.disconnect();\n    setTimeout(() => {\n        if (DEL in el)\n            delete el[DEL];\n        Object.defineProperty(el, NEW, { value: true, configurable: true });\n        if (styles && el instanceof HTMLElement) {\n            for (const style in styles) {\n                el.style[style] = \"\";\n            }\n        }\n    }, 0);\n}\n/**\n * Animates the removal of an element.\n * @param el - Element to remove\n */\nfunction remove(el) {\n    var _a;\n    if (!siblings.has(el) || !coords.has(el))\n        return;\n    const [prev, next] = siblings.get(el);\n    Object.defineProperty(el, DEL, { value: true, configurable: true });\n    const finalX = window.scrollX;\n    const finalY = window.scrollY;\n    if (next && next.parentNode && next.parentNode instanceof Element) {\n        next.parentNode.insertBefore(el, next);\n    }\n    else if (prev && prev.parentNode) {\n        prev.parentNode.appendChild(el);\n    }\n    else {\n        (_a = getTarget(el)) === null || _a === void 0 ? void 0 : _a.appendChild(el);\n    }\n    if (!isEnabled(el))\n        return cleanUp(el);\n    const [top, left, width, height] = deletePosition(el);\n    const optionsOrPlugin = getOptions(el);\n    const oldCoords = coords.get(el);\n    if (finalX !== scrollX || finalY !== scrollY) {\n        adjustScroll(el, finalX, finalY, optionsOrPlugin);\n    }\n    let animation;\n    let styleReset = {\n        position: \"absolute\",\n        top: `${top}px`,\n        left: `${left}px`,\n        width: `${width}px`,\n        height: `${height}px`,\n        margin: \"0\",\n        pointerEvents: \"none\",\n        transformOrigin: \"center\",\n        zIndex: \"100\",\n    };\n    if (!isPlugin(optionsOrPlugin)) {\n        Object.assign(el.style, styleReset);\n        animation = el.animate([\n            {\n                transform: \"scale(1)\",\n                opacity: 1,\n            },\n            {\n                transform: \"scale(.98)\",\n                opacity: 0,\n            },\n        ], { duration: optionsOrPlugin.duration, easing: \"ease-out\" });\n    }\n    else {\n        const [keyframes, options] = getPluginTuple(optionsOrPlugin(el, \"remove\", oldCoords));\n        if ((options === null || options === void 0 ? void 0 : options.styleReset) !== false) {\n            styleReset = (options === null || options === void 0 ? void 0 : options.styleReset) || styleReset;\n            Object.assign(el.style, styleReset);\n        }\n        animation = new Animation(keyframes);\n        animation.play();\n    }\n    animations.set(el, animation);\n    animation.addEventListener(\"finish\", cleanUp.bind(null, el, styleReset));\n}\n/**\n * If the element being removed is at the very bottom of the page, and the\n * the page was scrolled into a space being \"made available\" by the element\n * that was removed, the page scroll will have jumped up some amount. We need\n * to offset the jump by the amount that the page was \"automatically\" scrolled\n * up. We can do this by comparing the scroll position before and after the\n * element was removed, and then offsetting by that amount.\n *\n * @param el - The element being deleted\n * @param finalX - The final X scroll position\n * @param finalY - The final Y scroll position\n * @param optionsOrPlugin - The options or plugin\n * @returns\n */\nfunction adjustScroll(el, finalX, finalY, optionsOrPlugin) {\n    const scrollDeltaX = scrollX - finalX;\n    const scrollDeltaY = scrollY - finalY;\n    const scrollBefore = document.documentElement.style.scrollBehavior;\n    const scrollBehavior = getComputedStyle(root).scrollBehavior;\n    if (scrollBehavior === \"smooth\") {\n        document.documentElement.style.scrollBehavior = \"auto\";\n    }\n    window.scrollTo(window.scrollX + scrollDeltaX, window.scrollY + scrollDeltaY);\n    if (!el.parentElement)\n        return;\n    const parent = el.parentElement;\n    let lastHeight = parent.clientHeight;\n    let lastWidth = parent.clientWidth;\n    const startScroll = performance.now();\n    // Here we use a manual scroll animation to keep the element using the same\n    // easing and timing as the parentâ€™s scroll animation.\n    function smoothScroll() {\n        requestAnimationFrame(() => {\n            if (!isPlugin(optionsOrPlugin)) {\n                const deltaY = lastHeight - parent.clientHeight;\n                const deltaX = lastWidth - parent.clientWidth;\n                if (startScroll + optionsOrPlugin.duration > performance.now()) {\n                    window.scrollTo({\n                        left: window.scrollX - deltaX,\n                        top: window.scrollY - deltaY,\n                    });\n                    lastHeight = parent.clientHeight;\n                    lastWidth = parent.clientWidth;\n                    smoothScroll();\n                }\n                else {\n                    document.documentElement.style.scrollBehavior = scrollBefore;\n                }\n            }\n        });\n    }\n    smoothScroll();\n}\n/**\n * Determines the position of the element being removed.\n * @param el - The element being deleted\n * @returns\n */\nfunction deletePosition(el) {\n    const oldCoords = coords.get(el);\n    const [width, , height] = getTransitionSizes(el, oldCoords, getCoords(el));\n    let offsetParent = el.parentElement;\n    while (offsetParent &&\n        (getComputedStyle(offsetParent).position === \"static\" ||\n            offsetParent instanceof HTMLBodyElement)) {\n        offsetParent = offsetParent.parentElement;\n    }\n    if (!offsetParent)\n        offsetParent = document.body;\n    const parentStyles = getComputedStyle(offsetParent);\n    const parentCoords = coords.get(offsetParent) || getCoords(offsetParent);\n    const top = Math.round(oldCoords.top - parentCoords.top) -\n        raw(parentStyles.borderTopWidth);\n    const left = Math.round(oldCoords.left - parentCoords.left) -\n        raw(parentStyles.borderLeftWidth);\n    return [top, left, width, height];\n}\n/**\n * A function that automatically adds animation effects to itself and its\n * immediate children. Specifically it adds effects for adding, moving, and\n * removing DOM elements.\n * @param el - A parent element to add animations to.\n * @param options - An optional object of options.\n */\nfunction autoAnimate(el, config = {}) {\n    if (mutations && resize) {\n        const mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n        const isDisabledDueToReduceMotion = mediaQuery.matches &&\n            !isPlugin(config) &&\n            !config.disrespectUserMotionPreference;\n        if (!isDisabledDueToReduceMotion) {\n            enabled.add(el);\n            if (getComputedStyle(el).position === \"static\") {\n                Object.assign(el.style, { position: \"relative\" });\n            }\n            forEach(el, updatePos, poll, (element) => resize === null || resize === void 0 ? void 0 : resize.observe(element));\n            if (isPlugin(config)) {\n                options.set(el, config);\n            }\n            else {\n                options.set(el, { duration: 250, easing: \"ease-in-out\", ...config });\n            }\n            mutations.observe(el, { childList: true });\n            parents.add(el);\n        }\n    }\n    return Object.freeze({\n        parent: el,\n        enable: () => {\n            enabled.add(el);\n        },\n        disable: () => {\n            enabled.delete(el);\n        },\n        isEnabled: () => enabled.has(el),\n    });\n}\n/**\n * The vue directive.\n */\nconst vAutoAnimate = {\n    mounted: (el, binding) => {\n        autoAnimate(el, binding.value || {});\n    },\n    // ignore ssr see #96:\n    getSSRProps: () => ({}),\n};\n\nexport { autoAnimate as default, getTransitionSizes, vAutoAnimate };\n", "import { isDOM, isPlaceholder, createMessage } from '@formkit/core';\nimport autoAnimate from '@formkit/auto-animate';\nimport { eachSection, createSection, $extend, wrapper, $if, defaultIcon, disablesChildren, localize, findSection } from '@formkit/inputs';\nimport { whenAvailable, clone, undefine } from '@formkit/utils';\n\nconst pendingIds = new Map();\nconst optionOverrides = new Map();\nlet autoAnimateOptionsId = 0;\nlet observer = null;\nlet observerTimeout = 0;\n/**\n * Create a new mutation observer that checks for the document for ids. We do\n * this instead of iterating over the mutations because getElementById is by far\n * the fastest way check for an element in the DOM, much faster that iterating\n * over the mutations themselves.\n */\nfunction createObserver() {\n    observeIds();\n    observer = new MutationObserver(() => {\n        observeIds();\n        if (!pendingIds.size && observer) {\n            observer.disconnect();\n            observer = null;\n        }\n    });\n    observer.observe(document, { childList: true, subtree: true });\n}\nfunction observeIds() {\n    pendingIds.forEach((options, id) => {\n        const outer = document.getElementById(id);\n        if (outer) {\n            clearTimeout(observerTimeout);\n            pendingIds.delete(id);\n            observerTimeout = setTimeout(() => {\n                const targets = document.querySelectorAll('[data-auto-animate]');\n                targets.forEach((target) => {\n                    // get the value of data-auto-animate\n                    let overrideOptions;\n                    const optionsId = target.getAttribute('data-auto-animate');\n                    if (optionsId) {\n                        overrideOptions = optionOverrides.get(optionsId);\n                    }\n                    autoAnimate(target, overrideOptions || options || {});\n                });\n            }, 250);\n        }\n    });\n}\n/**\n * Adds auto-animate to each input automatically:\n *\n * @example\n *\n * ```javascript\n * import { createApp } from 'vue'\n * import App from 'App.vue'\n * import { createAutoAnimatePlugin } from '@formkit/addons'\n * import { plugin, defaultConfig } from '@formkit/vue'\n *\n * createApp(app).use(plugin, defaultPlugin({\n *   plugins: [\n *     createAutoAnimatePlugin({\n *       // optional config\n *       duration: 250,\n *       easing: 'ease-in-out',\n *       delay: 0,\n *     },\n *     {\n *       // optional animation targets object\n *       global: ['outer', 'inner'],\n *       form: ['form'],\n *       repeater: ['items'],\n *     })\n *   ]\n * }))\n * ```\n *\n * @param options - {@link https://github.com/formkit/auto-animate/blob/master/src/index.ts#L596 | AutoAnimateOptions }\n * @param animationTargets - A map of input types and an array of their sections that should be animated.\n *\n * @returns\n * {@link @formkit/core#FormKitPlugin | FormKitPlugin}\n *\n * @public\n */\nfunction createAutoAnimatePlugin(options, animationTargets = {\n    global: ['outer', 'inner'],\n    form: ['form'],\n    repeater: ['items'],\n}) {\n    return (node) => {\n        node.on('created', () => {\n            var _a;\n            if (typeof ((_a = node.props.definition) === null || _a === void 0 ? void 0 : _a.schema) === 'function') {\n                if (typeof window === undefined)\n                    return;\n                // make a copy of the original schema\n                const originalSchema = node.props.definition.schema;\n                // add an outer wrapper id or get the current one\n                node.props.definition.schema = (extensions) => {\n                    const schema = originalSchema(extensions);\n                    const finalSchema = Array.isArray(schema) ? schema[0] : schema;\n                    eachSection(finalSchema, (section) => {\n                        var _a, _b;\n                        if (isDOM(section)) {\n                            let isAnimationTarget = false;\n                            const sectionName = (_a = section === null || section === void 0 ? void 0 : section.meta) === null || _a === void 0 ? void 0 : _a.section;\n                            let instanceId = true;\n                            // If we have explicit autoAnimate meta set, use that\n                            if ((_b = section === null || section === void 0 ? void 0 : section.meta) === null || _b === void 0 ? void 0 : _b.autoAnimate) {\n                                isAnimationTarget = true;\n                                if (typeof section.meta.autoAnimate === 'object') {\n                                    const newOptions = Object.assign({}, options, section.meta.autoAnimate);\n                                    instanceId = `${node.props.id}-${autoAnimateOptionsId++}`;\n                                    optionOverrides.set(instanceId, newOptions);\n                                }\n                            }\n                            // if didn't have meta but we have a section name, check if it's a known animation target\n                            if (!isAnimationTarget &&\n                                sectionName &&\n                                typeof sectionName === 'string') {\n                                if (animationTargets.global.includes(sectionName) ||\n                                    (animationTargets[node.props.type] &&\n                                        animationTargets[node.props.type].includes(sectionName))) {\n                                    isAnimationTarget = true;\n                                }\n                            }\n                            // bail if we we're not a match\n                            if (!isAnimationTarget)\n                                return;\n                            // add the auto-animate attribute which our observer will pick up\n                            if (!(section === null || section === void 0 ? void 0 : section.attrs)) {\n                                section.attrs = { 'data-auto-animate': instanceId };\n                            }\n                            else {\n                                Object.assign(section.attrs, {\n                                    'data-auto-animate': instanceId,\n                                });\n                            }\n                            // add the node id to the pending list\n                            if (node.props.id) {\n                                pendingIds.set(node.props.id, options);\n                            }\n                        }\n                    });\n                    return finalSchema;\n                };\n            }\n            if (!observer && typeof window !== 'undefined')\n                createObserver();\n        });\n    };\n}\n\n/**\n * Contains the \"next\" action element for a multi-step step.\n *\n * @public\n */\nconst badge = createSection('badge', () => ({\n    $el: 'span',\n    attrs: {\n        role: 'presentation',\n    },\n}));\n\n/**\n * Contains the action buttons for a multi-step step.\n *\n * @public\n */\nconst stepActions = createSection('stepActions', () => ({\n    $el: 'div',\n}));\n\n/**\n * Inner section of a multi-step step.\n *\n * @public\n */\nconst stepInner = createSection('stepInner', 'div');\n\n/**\n * Contains the \"next\" action element for a multi-step step.\n *\n * @public\n */\nconst stepNext = createSection('stepNext', () => ({\n    $el: 'div',\n    if: '$isLastStep === false || $stepIndex === 0',\n    children: [\n        {\n            $cmp: 'FormKit',\n            bind: '$nextAttrs',\n            props: {\n                type: 'button',\n                label: {\n                    if: '$nextLabel',\n                    then: '$nextLabel',\n                    else: '$ui.next.value',\n                },\n                'data-next': '$isLastStep === false',\n                onClick: '$handlers.next',\n            },\n        },\n    ],\n}));\n\n/**\n * Outer section of a multi-step step. Has conditinal styling\n * depending on if it's the $activeStep.\n *\n * @public\n */\nconst stepOuter = createSection('stepOuter', () => ({\n    $el: 'div',\n    attrs: {\n        key: '$id',\n        'data-type': 'step',\n        'data-disabled': '$disabled || undefined',\n        'data-complete': '$state.complete || undefined',\n        'data-invalid': '$state.valid === false && $state.validationVisible || undefined',\n        'data-errors': '$state.errors || undefined',\n        'data-submitted': '$state.submitted || undefined',\n        id: '$id',\n        role: 'tabpanel',\n        'aria-labelledby': '$node.parent.props.id + \"_tab_\" + $stepIndex',\n        class: '$classes.step',\n        hidden: '$isActiveStep === false || undefined',\n    },\n}));\n\n/**\n * Contains the \"previous\" action element for a multi-step step.\n *\n * @public\n */\nconst stepPrevious = createSection('stepPrevious', () => ({\n    $el: 'div',\n    if: '$isFirstStep === false',\n    children: [\n        {\n            $cmp: 'FormKit',\n            bind: '$previousAttrs',\n            props: {\n                type: 'button',\n                label: {\n                    if: '$previousLabel',\n                    then: '$previousLabel',\n                    else: '$ui.prev.value',\n                },\n                'data-prev': '$isFirstStep === false',\n                onClick: '$handlers.previous',\n            },\n        },\n    ],\n}));\n\n/**\n * Steps section, wraps all the steps of a multi-step form\n *\n * @public\n */\nconst steps = createSection('steps', () => ({\n    $el: 'div',\n}));\n\n/**\n * Icon section used by multi-step steps\n *\n * @public\n */\nconst stepIcon = (sectionKey, el) => {\n    return createSection(`${sectionKey}Icon`, () => {\n        const rawIconProp = `_raw${sectionKey\n            .charAt(0)\n            .toUpperCase()}${sectionKey.slice(1)}Icon`;\n        return {\n            if: `$step.${sectionKey}Icon && $step.${rawIconProp}`,\n            then: {\n                $el: `${el ? el : 'span'}`,\n                attrs: {\n                    class: `$classes.${sectionKey}Icon + \" formkit-icon\"`,\n                    innerHTML: `$step.${rawIconProp}`,\n                    role: 'presentation',\n                    onClick: `$handlers.iconClick(${sectionKey})`,\n                },\n            },\n            else: {\n                if: `$${sectionKey}Icon && $${rawIconProp}`,\n                then: {\n                    $el: `${el ? el : 'span'}`,\n                    attrs: {\n                        class: `$classes.${sectionKey}Icon + \" formkit-icon\"`,\n                        innerHTML: `$${rawIconProp}`,\n                        role: 'presentation',\n                        onClick: `$handlers.iconClick(${sectionKey})`,\n                    },\n                },\n            },\n        };\n    })();\n};\n\n/**\n * Tab section, holds a group of tabs\n *\n * @public\n */\nconst tab = createSection('tab', () => ({\n    $el: 'button',\n    for: ['step', 'index', '$steps'],\n    attrs: {\n        key: '$step.id',\n        type: 'button',\n        onClick: '$step.makeActive',\n        'data-active': '$step.isActiveStep',\n        'data-valid': '$step.isValid',\n        'data-visited': '$step.hasBeenVisited',\n        role: 'tab',\n        id: '$id + \"_tab_\" + $index',\n        'aria-selected': '$step.isActiveStep || false',\n        'aria-controls': '$step.id',\n        tabindex: {\n            if: '$step.isActiveStep',\n            then: '0',\n            else: '-1',\n        },\n    },\n}));\n\n/**\n * the label for a tab in a multi-step input\n *\n * @public\n */\nconst tabLabel = createSection('tabLabel', () => ({\n    $el: 'span',\n}));\n\n/**\n * Tab section, holds a group of tabs\n *\n * @public\n */\nconst tabs = createSection('tabs', () => ({\n    $el: 'div',\n    attrs: {\n        role: 'tablist',\n    },\n}));\n\n/**\n * Outer section of the multi-step where most data attributes are assigned.\n *\n * @public\n */\nconst multiStepOuter = createSection('multiStepOuter', () => ({\n    $el: 'div',\n    attrs: {\n        key: '$id',\n        id: '$id',\n        class: '$classes.outer',\n        'data-family': '$family || undefined',\n        'data-type': '$type',\n        'data-multiple': '$attrs.multiple || ($type != \"select\" && $options != undefined) || undefined',\n        'data-disabled': '$disabled || undefined',\n        'data-complete': '$state.complete || undefined',\n        'data-invalid': '$state.valid === false && $state.validationVisible || undefined',\n        'data-errors': '$state.errors || undefined',\n        'data-submitted': '$state.submitted || undefined',\n    },\n}));\n\nconst multiStep = {\n    /**\n     * The actual schema of the input, or a function that returns the schema.\n     */\n    schema: multiStepOuter($extend(wrapper(tabs(tab($if('$tabStyle === \"tab\" || ($tabStyle === \"progress\" && $hideProgressLabels === false)', tabLabel('$step.stepName')), $if('($step.totalErrorCount > 0) && $step.showStepErrors', badge('$step.totalErrorCount')), $if('$step.isValid && $step.hasBeenVisited', badge(stepIcon('validStep'))))), steps('$slots.default')), {\n        attrs: {\n            'data-tab-style': '$tabStyle',\n            'data-hide-labels': '$hideProgressLabels',\n        },\n    })),\n    /**\n     * The type of node, can be a list, group, or input.\n     */\n    type: 'group',\n    /**\n     * The family of inputs this one belongs too. For example \"text\" and \"email\"\n     * are both part of the \"text\" family. This is primary used for styling.\n     */\n    family: 'multi-step',\n    /**\n     * An array of extra props to accept for this input.\n     */\n    props: [\n        'allowIncomplete',\n        'hideProgressLabels',\n        'tabStyle',\n        'beforeStepChange',\n        'validStepIcon',\n    ],\n    /**\n     * Additional features that should be added to your input\n     */\n    features: [defaultIcon('validStep', 'check'), disablesChildren],\n};\nconst step = {\n    /**\n     * The actual schema of the input, or a function that returns the schema.\n     */\n    schema: stepOuter(stepInner('$slots.default'), stepActions(stepPrevious(), stepNext())),\n    /**\n     * The type of node, can be a list, group, or input.\n     */\n    type: 'group',\n    /**\n     * The family of inputs this one belongs too. For example \"text\" and \"email\"\n     * are both part of the \"text\" family. This is primary used for styling.\n     */\n    family: '',\n    /**\n     * An array of extra props to accept for this input.\n     */\n    props: [\n        'previousLabel',\n        'nextLabel',\n        'beforeStepChange',\n        'previousAttrs',\n        'nextAttrs',\n        'validStepIcon',\n    ],\n    /**\n     * Additional features that should be added to your input\n     */\n    features: [localize('next'), localize('prev'), disablesChildren],\n};\n\nconst isBrowser = typeof window !== 'undefined';\n/**\n * Coverts a camelCase string to a title case string\n *\n * @param str - The string to convert\n * @returns string\n */\nconst camel2title = (str) => {\n    if (!str)\n        return str;\n    return str\n        .replace(/([A-Z])/g, (match) => ` ${match}`)\n        .replace(/^./, (match) => match.toUpperCase())\n        .trim();\n};\n/**\n * Compares steps to DOM order and reorders steps if needed\n */\nfunction orderSteps(steps) {\n    if (!isBrowser || !steps)\n        return steps;\n    const orderedSteps = [...steps];\n    orderedSteps.sort((a, b) => {\n        const aEl = document.getElementById(a.id);\n        const bEl = document.getElementById(b.id);\n        if (!aEl || !bEl)\n            return 0;\n        return aEl.compareDocumentPosition(bEl) === 2 ? 1 : -1;\n    });\n    orderedSteps.map((step) => {\n        step.ordered = true;\n    });\n    return orderedSteps;\n}\n/**\n * Iterates through each step and sets props to help\n * determine step positioning within the multi-step.\n *\n * @param steps - The steps to iterate through\n */\nfunction setNodePositionProps(steps) {\n    if (!steps)\n        return;\n    steps.forEach((step, index) => {\n        step.isFirstStep = index === 0;\n        step.isLastStep = index === steps.length - 1;\n        step.stepIndex = index;\n        step.steps = steps;\n    });\n}\nfunction showStepErrors(step) {\n    if (!step.showStepErrors)\n        return;\n    return (parseInt(step.blockingCount) +\n        parseInt(step.errorCount) >\n        0);\n}\n/**\n * Determines if the target step can be navigated to based on current\n * configuration options and the state of the current step.\n *\n * @param currentStep - The current step\n * @param targetStep - The target step\n */\nasync function isTargetStepAllowed(currentStep, targetStep) {\n    var _a, _b, _c;\n    if (currentStep === targetStep)\n        return true;\n    const { allowIncomplete } = ((_a = currentStep.node.parent) === null || _a === void 0 ? void 0 : _a.props) || {};\n    const parentNode = currentStep.node.parent;\n    const currentStepIndex = parentNode === null || parentNode === void 0 ? void 0 : parentNode.props.steps.indexOf(currentStep);\n    const targetStepIndex = parentNode === null || parentNode === void 0 ? void 0 : parentNode.props.steps.indexOf(targetStep);\n    // check if there is a function for the stepChange guard\n    const beforeStepChange = currentStep.node.props.beforeStepChange ||\n        ((_b = currentStep.node.parent) === null || _b === void 0 ? void 0 : _b.props.beforeStepChange);\n    if (beforeStepChange && typeof beforeStepChange === 'function') {\n        if (parentNode) {\n            parentNode === null || parentNode === void 0 ? void 0 : parentNode.store.set(createMessage({\n                key: 'loading',\n                value: true,\n                visible: false,\n            }));\n            parentNode.props.disabled = true;\n            currentStep.disabled = true;\n        }\n        const result = await beforeStepChange({\n            currentStep,\n            targetStep,\n            delta: targetStepIndex - currentStepIndex,\n        });\n        if (parentNode) {\n            parentNode === null || parentNode === void 0 ? void 0 : parentNode.store.remove('loading');\n            parentNode.props.disabled = false;\n            currentStep.disabled = false;\n        }\n        if (typeof result === 'boolean' && !result)\n            return false;\n    }\n    // show the current step errors because this step has\n    // been visited.\n    triggerStepValidations(currentStep);\n    currentStep.showStepErrors = true;\n    if (targetStepIndex < currentStepIndex) {\n        // we can always step backwards\n        return true;\n    }\n    // check how many steps we need to step forward\n    // and then check that each intermediate step is valid\n    const delta = targetStepIndex - currentStepIndex;\n    for (let i = 0; i < delta; i++) {\n        const intermediateStep = parentNode === null || parentNode === void 0 ? void 0 : parentNode.props.steps[currentStepIndex + i];\n        const stepIsAllowed = allowIncomplete || ((_c = intermediateStep.state) === null || _c === void 0 ? void 0 : _c.valid);\n        if (!stepIsAllowed) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Changes the active step to the target step if the target step is allowed.\n *\n * @param targetStep - The target step\n */\nasync function setActiveStep(targetStep, e) {\n    if (e) {\n        e.preventDefault();\n    }\n    if (targetStep && targetStep.node.name && targetStep.node.parent) {\n        const currentStep = targetStep.node.parent.props.steps.find((step) => { var _a; return step.node.name === ((_a = targetStep.node.parent) === null || _a === void 0 ? void 0 : _a.props.activeStep); });\n        const stepIsAllowed = await isTargetStepAllowed(currentStep, targetStep);\n        if (stepIsAllowed && targetStep.node.parent.context) {\n            targetStep.node.parent.props.activeStep = targetStep.node.name;\n        }\n    }\n}\n/**\n * Changes the current step by the delta value if the target step is allowed.\n *\n * @param delta - The number of steps to increment or decrement\n * @param step - The current step\n */\nasync function incrementStep(delta, currentStep) {\n    if (currentStep && currentStep.node.name && currentStep.node.parent) {\n        const steps = currentStep.node.parent.props.steps;\n        const stepIndex = currentStep.stepIndex;\n        const targetStep = steps[stepIndex + delta];\n        if (!targetStep)\n            return;\n        const stepIsAllowed = await isTargetStepAllowed(currentStep, targetStep);\n        if (targetStep && stepIsAllowed) {\n            currentStep.node.parent.props.activeStep = targetStep.node.name;\n        }\n    }\n}\n/**\n * Causes the display of any validation errors on the target step.\n *\n * @param step - The current step\n * @returns Boolean\n */\nfunction triggerStepValidations(step) {\n    var _a, _b;\n    step.node.walk((n) => {\n        n.store.set(createMessage({\n            key: 'submitted',\n            value: true,\n            visible: false,\n        }));\n    });\n    return (((_a = step.node.context) === null || _a === void 0 ? void 0 : _a.state.valid) || ((_b = step.node.parent) === null || _b === void 0 ? void 0 : _b.props.allowIncomplete));\n}\nfunction initEvents(node, el) {\n    if (!(el instanceof HTMLElement))\n        return;\n    el.addEventListener('keydown', (event) => {\n        var _a;\n        if (event.target instanceof HTMLButtonElement) {\n            if (event.key === 'Tab' &&\n                'data-next' in ((_a = event.target) === null || _a === void 0 ? void 0 : _a.attributes) &&\n                !event.shiftKey) {\n                event.preventDefault();\n                const activeStepContext = node.children.find((step) => !isPlaceholder(step) && step.name === node.props.activeStep);\n                if (activeStepContext && activeStepContext.context) {\n                    incrementStep(1, activeStepContext.context);\n                }\n            }\n        }\n    });\n}\nfunction createSSRStepsFromTabs(tabs) {\n    if (!tabs || !tabs.length)\n        return [];\n    const placeholderTabs = tabs.map((tab, index) => {\n        return {\n            __isPlaceholder: true,\n            stepName: tab.props.label || camel2title(tab.props.name),\n            isFirstStep: index === 0,\n            isLastStep: index === tabs.length - 1,\n            isActiveStep: index === 0,\n            node: {\n                name: tab.props.name,\n            },\n        };\n    });\n    return placeholderTabs;\n}\n/**\n * Creates a new multi-step plugin.\n *\n * @param options - The options of {@link MultiStepOptions | MultiStepOptions} to pass to the plugin\n *\n * @returns A {@link @formkit/core#FormKitPlugin | FormKitPlugin}\n *\n * @public\n */\nfunction createMultiStepPlugin(options) {\n    let isFirstStep = true;\n    const multiStepPlugin = (node) => {\n        var _a, _b;\n        if (node.props.type === 'multi-step') {\n            if (!node.context)\n                return;\n            isFirstStep = true; // reset variable, next step will be first step in multistep\n            node.addProps(['steps', 'tabs', 'activeStep']);\n            // call the default slot to pre-render child steps\n            // for SSR support\n            if (node.context.slots &&\n                node.context.slots.default) {\n                node.props.tabs = node.context.slots.default();\n            }\n            node.props.steps =\n                node.props.steps || createSSRStepsFromTabs(node.props.tabs);\n            node.props.allowIncomplete =\n                typeof node.props.allowIncomplete === 'boolean'\n                    ? node.props.allowIncomplete\n                    : typeof (options === null || options === void 0 ? void 0 : options.allowIncomplete) === 'boolean'\n                        ? options === null || options === void 0 ? void 0 : options.allowIncomplete\n                        : true;\n            node.props.hideProgressLabels =\n                typeof node.props.hideProgressLabels === 'boolean'\n                    ? node.props.hideProgressLabels\n                    : (options === null || options === void 0 ? void 0 : options.hideProgressLabels) || false;\n            node.props.tabStyle = node.props.tabStyle || (options === null || options === void 0 ? void 0 : options.tabStyle) || 'tab';\n            node.context.handlers.triggerStepValidations = triggerStepValidations;\n            node.context.handlers.showStepErrors = showStepErrors;\n            node.on('created', () => {\n                if (!node.context)\n                    return;\n                node.extend('next', {\n                    get: (node) => () => {\n                        var _a;\n                        incrementStep(1, (_a = node === null || node === void 0 ? void 0 : node.props) === null || _a === void 0 ? void 0 : _a.steps.find((step) => step.isActiveStep));\n                    },\n                    set: false,\n                });\n                node.extend('previous', {\n                    get: (node) => () => {\n                        var _a;\n                        incrementStep(-1, (_a = node === null || node === void 0 ? void 0 : node.props) === null || _a === void 0 ? void 0 : _a.steps.find((step) => step.isActiveStep));\n                    },\n                    set: false,\n                });\n                node.extend('goTo', {\n                    get: (node) => (target) => {\n                        if (typeof target === 'number') {\n                            const targetStep = node.props.steps[target];\n                            setActiveStep(targetStep);\n                        }\n                        else if (typeof target === 'string') {\n                            const targetStep = node.props.steps.find((step) => step.node.name === target);\n                            setActiveStep(targetStep);\n                        }\n                    },\n                    set: false,\n                });\n                whenAvailable(`${node.props.id}`, (el) => {\n                    initEvents(node, el);\n                });\n            });\n            node.on('child', ({ payload: childNode }) => {\n                // remove placeholder steps\n                if (node.props.steps && node.props.steps.length) {\n                    node.props.steps = node.props.steps.filter((step) => !step.__isPlaceholder);\n                }\n                node.props.steps =\n                    Array.isArray(node.props.steps) && node.props.steps.length > 0\n                        ? [...node.props.steps, childNode.context]\n                        : [childNode.context];\n                node.props.steps = orderSteps(node.props.steps);\n                setNodePositionProps(node.props.steps);\n                childNode.props.stepName =\n                    childNode.props.label || camel2title(childNode.name);\n                childNode.props.errorCount = 0;\n                childNode.props.blockingCount = 0;\n                childNode.props.isActiveStep = isFirstStep;\n                isFirstStep = false;\n                node.props.activeStep = node.props.activeStep\n                    ? node.props.activeStep\n                    : node.props.steps[0]\n                        ? node.props.steps[0].node.name\n                        : '';\n            });\n            node.on('prop:activeStep', ({ payload }) => {\n                node.children.forEach((child) => {\n                    if (isPlaceholder(child))\n                        return;\n                    child.props.isActiveStep = child.name === payload;\n                    if (isBrowser && child.name === payload) {\n                        const el = document.querySelector(`[aria-controls=\"${child.props.id}\"]`);\n                        if (el instanceof HTMLButtonElement) {\n                            el.focus();\n                        }\n                    }\n                });\n            });\n            node.on('childRemoved', ({ payload: childNode }) => {\n                let removedStepIndex = -1;\n                childNode.props.ordered = false;\n                node.props.steps = node.props.steps.filter((step, index) => {\n                    if (step.node.name !== childNode.name) {\n                        return true;\n                    }\n                    removedStepIndex = index;\n                    return false;\n                });\n                setNodePositionProps(node.props.steps);\n                // if the child that was removed was the active step\n                // then fallback to the next available step\n                if (node.props.activeStep === childNode.name) {\n                    const targetIndex = removedStepIndex > 0 ? removedStepIndex - 1 : 0;\n                    node.props.activeStep = node.props.steps[targetIndex]\n                        ? node.props.steps[targetIndex].node.name\n                        : '';\n                }\n            });\n        }\n        if (node.props.type === 'step' &&\n            ((_a = node.parent) === null || _a === void 0 ? void 0 : _a.props.type) === 'multi-step') {\n            if (!node.context || !node.parent || !node.parent.context)\n                return;\n            node.addProps([\n                'isActiveStep',\n                'isFirstStep',\n                'isLastStep',\n                'stepName',\n                'errorCount',\n                'blockingCount',\n                'totalErrorCount',\n                'showStepErrors',\n                'isValid',\n                'hasBeenVisited',\n                'ordered',\n            ]);\n            const parentNode = node.parent;\n            node.on('created', () => {\n                if (!node.context || !parentNode.context)\n                    return;\n                whenAvailable(`${node.props.id}`, () => {\n                    parentNode.props.steps = orderSteps(parentNode.props.steps);\n                    setNodePositionProps(parentNode.props.steps);\n                });\n            });\n            if (node.context && parentNode.context) {\n                parentNode.context.handlers.setActiveStep = (stepNode) => setActiveStep.bind(null, stepNode);\n                node.context.handlers.incrementStep = (delta, stepNode) => incrementStep.bind(null, delta, stepNode);\n                node.context.makeActive = () => {\n                    setActiveStep(node.context);\n                };\n                node.context.handlers.next = () => incrementStep(1, node.context);\n                node.context.handlers.previous = () => incrementStep(-1, node.context);\n            }\n            node.on('count:errors', ({ payload: count }) => {\n                node.props.errorCount = count;\n            });\n            node.on('count:blocking', ({ payload: count }) => {\n                node.props.blockingCount = count;\n            });\n            function updateTotalErrorCount(node) {\n                node.props.totalErrorCount =\n                    node.props.errorCount + node.props.blockingCount;\n            }\n            node.on('prop:errorCount', () => updateTotalErrorCount(node));\n            node.on('prop:blockingCount', () => updateTotalErrorCount(node));\n            node.on('prop:totalErrorCount', () => {\n                node.props.isValid = node.props.totalErrorCount <= 0;\n            });\n            node.on('message-added', ({ payload }) => {\n                if (payload.key === 'submitted') {\n                    updateTotalErrorCount(node);\n                    if (node.context) {\n                        triggerStepValidations(node.context);\n                        node.props.showStepErrors = true;\n                    }\n                }\n            });\n            node.on('prop:isActiveStep', () => {\n                if (!node.props.hasBeenVisited && node.props.isActiveStep) {\n                    node.props.hasBeenVisited = true;\n                }\n            });\n        }\n        else if (((_b = node.parent) === null || _b === void 0 ? void 0 : _b.props.type) === 'multi-step') {\n            console.warn('Invalid FormKit input location. <FormKit type=\"multi-step\"> should only have <FormKit type=\"step\"> inputs as immediate children. Failure to wrap child inputs in <FormKit type=\"step\"> can lead to undesired behaviors.');\n        }\n    };\n    multiStepPlugin.library = (node) => {\n        switch (node.props.type) {\n            case 'multi-step':\n                return node.define(multiStep);\n            case 'step':\n                const isInvalid = !node.parent || node.parent.props.type !== 'multi-step';\n                if (isInvalid) {\n                    console.warn('Invalid use of <FormKit type=\"step\">. <FormKit type=\"step\"> must be an immediate child of a <FormKit type=\"multi-step\"> component.');\n                }\n                return node.define(step);\n        }\n    };\n    return multiStepPlugin;\n}\n\n/**\n * Creates a new floating label plugin.\n *\n * @param FloatingLabelsOptions - The options of {@link FloatingLabelsOptions | FloatingLabelsOptions} to pass to the plugin\n *\n * @returns A {@link @formkit/core#FormKitPlugin | FormKitPlugin}\n *\n * @public\n */\nfunction createFloatingLabelsPlugin(FloatingLabelsOptions) {\n    const floatingLabelsPlugin = (node) => {\n        node.addProps(['floatingLabel']);\n        const useFloatingLabels = typeof node.props.floatingLabel === 'boolean'\n            ? node.props.floatingLabel\n            : typeof (FloatingLabelsOptions === null || FloatingLabelsOptions === void 0 ? void 0 : FloatingLabelsOptions.useAsDefault) === 'boolean'\n                ? FloatingLabelsOptions === null || FloatingLabelsOptions === void 0 ? void 0 : FloatingLabelsOptions.useAsDefault\n                : false;\n        if (useFloatingLabels) {\n            node.on('created', () => {\n                if (!node.props || !node.props.definition)\n                    return;\n                const inputDefinition = clone(node.props.definition);\n                if (['text', 'dropdown'].includes(node.props.family) ||\n                    ['datepicker', 'textarea'].includes(node.props.type)) {\n                    const originalSchema = inputDefinition.schema;\n                    if (typeof originalSchema !== 'function')\n                        return;\n                    const higherOrderSchema = (extensions) => {\n                        extensions.outer = {\n                            attrs: {\n                                'data-floating-label': 'true',\n                            },\n                        };\n                        extensions.label = {\n                            attrs: {\n                                'data-has-value': '$_value !== \"\" && $_value !== undefined',\n                            },\n                        };\n                        const inputSchema = originalSchema(extensions);\n                        const finalSchema = Array.isArray(inputSchema)\n                            ? inputSchema[0]\n                            : inputSchema;\n                        const [labelParentChildren, labelSection] = findSection(finalSchema, 'label');\n                        const [inputParentChildren] = findSection(finalSchema, 'input');\n                        if (labelParentChildren && labelSection && inputParentChildren) {\n                            labelParentChildren.splice(labelParentChildren.indexOf(labelSection), 1);\n                            inputParentChildren.push(labelSection);\n                        }\n                        return inputSchema;\n                    };\n                    inputDefinition.schema = higherOrderSchema;\n                    if (inputDefinition.schemaMemoKey) {\n                        inputDefinition.schemaMemoKey += '-floating-label';\n                    }\n                    node.props.definition = inputDefinition;\n                }\n            });\n        }\n    };\n    return floatingLabelsPlugin;\n}\n\n/**\n * Creates a new save-to-local-storage plugin.\n *\n * @param LocalStorageOptions - The options of {@link LocalStorageOptions | LocalStorageOptions} to pass to the plugin\n *\n * @returns A {@link @formkit/core#FormKitPlugin | FormKitPlugin}\n *\n * @public\n */\nfunction createLocalStoragePlugin(localStorageOptions) {\n    const localStoragePlugin = (node) => {\n        // only apply if internal FormKit type is 'group'. This applies\n        // to 'form' and 'group' inputs â€” as well as any add-on inputs\n        // registered of FormKit type 'group' (eg. 'multi-step').\n        if (node.type !== 'group')\n            return;\n        // enable SSR support\n        if (typeof window === \"undefined\")\n            return;\n        let cachedLocalStorageData = '';\n        const shouldUseLocalStorage = (controlNode) => {\n            let controlFieldValue = true;\n            if (controlNode) {\n                controlFieldValue = controlNode.value === true;\n            }\n            return undefine(node.props.useLocalStorage) && controlFieldValue;\n        };\n        node.on('created', async () => {\n            var _a, _b, _c;\n            await node.settled;\n            node.addProps(['useLocalStorage']);\n            node.extend('restoreCache', {\n                get: (node) => async () => {\n                    if (!cachedLocalStorageData)\n                        return;\n                    await node.settled;\n                    loadValue(cachedLocalStorageData);\n                },\n                set: false,\n            });\n            // if the user provided a control field, then we need to listen for changes\n            // and use it to determine whether or not to use local storage\n            const controlField = (_a = localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.control) !== null && _a !== void 0 ? _a : undefined;\n            let controlNode;\n            if (typeof controlField === 'string') {\n                const controlNode = node.at(controlField);\n                if (controlNode) {\n                    controlNode.on('commit', () => {\n                        useLocalStorage = shouldUseLocalStorage(controlNode);\n                        if (!useLocalStorage) {\n                            localStorage.removeItem(storageKey);\n                        }\n                    });\n                }\n            }\n            let useLocalStorage = shouldUseLocalStorage(controlNode);\n            let saveTimeout = 0;\n            const debounce = typeof (localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.debounce) === 'number'\n                ? localStorageOptions.debounce\n                : 200;\n            const prefix = (_b = localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.prefix) !== null && _b !== void 0 ? _b : 'formkit';\n            const maxAge = (_c = localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.maxAge) !== null && _c !== void 0 ? _c : 3600000; // 1 hour\n            const key = (localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.key) ? `-${localStorageOptions.key}` : ''; // for scoping to a specific user\n            const storageKey = `${prefix}${key}-${node.name}`;\n            const loadValue = async (forceValue) => {\n                const value = forceValue || localStorage.getItem(storageKey);\n                if (!value)\n                    return;\n                const loadValue = JSON.parse(value);\n                if (typeof (localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.beforeLoad) === 'function') {\n                    node.props.disabled = true;\n                    try {\n                        loadValue.data = await localStorageOptions.beforeLoad(loadValue.data);\n                    }\n                    catch (error) {\n                        console.error(error);\n                    }\n                    node.props.disabled = false;\n                }\n                if (!loadValue || typeof loadValue.data !== 'object')\n                    return;\n                if (loadValue.maxAge > Date.now()) {\n                    node.input(loadValue.data, false);\n                }\n                else {\n                    localStorage.removeItem(storageKey);\n                }\n            };\n            const saveValue = async (payload) => {\n                let savePayload = payload;\n                if (typeof (localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.beforeSave) === 'function') {\n                    try {\n                        savePayload = await localStorageOptions.beforeSave(payload);\n                    }\n                    catch (error) {\n                        console.error(error);\n                    }\n                }\n                if (!savePayload)\n                    return;\n                localStorage.setItem(storageKey, JSON.stringify({\n                    maxAge: Date.now() + maxAge,\n                    data: savePayload,\n                }));\n            };\n            node.on('commit', ({ payload }) => {\n                if (!useLocalStorage)\n                    return;\n                // debounce the save to local storage\n                clearTimeout(saveTimeout);\n                saveTimeout = setTimeout(async () => {\n                    saveValue(payload);\n                }, debounce);\n            });\n            node.on('prop:useLocalStorage', () => {\n                useLocalStorage = shouldUseLocalStorage(controlNode);\n                if (!useLocalStorage) {\n                    localStorage.removeItem(storageKey);\n                }\n            });\n            node.hook.submit((payload, next) => {\n                // cache data in case the user wants to restore\n                cachedLocalStorageData = localStorage.getItem(storageKey);\n                // remove from the localStorage cache\n                localStorage.removeItem(storageKey);\n                return next(payload);\n            });\n            await loadValue();\n        });\n    };\n    return localStoragePlugin;\n}\n\n/**\n * Creates a new auto-height textarea plugin.\n *\n * @returns A {@link @formkit/core#FormKitPlugin | FormKitPlugin}\n *\n * @public\n */\nfunction createAutoHeightTextareaPlugin() {\n    const autoHeightTextareaPlugin = (node) => {\n        if (node.props.type !== 'textarea')\n            return;\n        node.addProps(['autoHeight']);\n        node.on('created', () => {\n            const autoHeight = undefine(node.props.autoHeight);\n            if (!autoHeight || !node.context)\n                return;\n            let inputElement = null;\n            whenAvailable(node.context.id, () => {\n                var _a;\n                inputElement = document.getElementById(((_a = node === null || node === void 0 ? void 0 : node.context) === null || _a === void 0 ? void 0 : _a.id) ? node.context.id : '');\n                calculateHeight();\n                node.on('input', () => {\n                    calculateHeight();\n                });\n                function calculateHeight() {\n                    if (!inputElement)\n                        return;\n                    let scrollHeight = inputElement.scrollHeight;\n                    inputElement === null || inputElement === void 0 ? void 0 : inputElement.setAttribute('style', `min-height: 0px`);\n                    scrollHeight = inputElement.scrollHeight;\n                    inputElement === null || inputElement === void 0 ? void 0 : inputElement.setAttribute('style', `min-height: ${scrollHeight}px`);\n                }\n            });\n        });\n    };\n    return autoHeightTextareaPlugin;\n}\n\nexport { createAutoAnimatePlugin, createAutoHeightTextareaPlugin, createFloatingLabelsPlugin, createLocalStoragePlugin, createMultiStepPlugin };\n"],
  "mappings": "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",
  "names": ["mutations", "observer", "target", "options", "options", "target", "_a", "steps", "step", "tabs", "tab", "node", "controlNode", "loadValue"]
}
