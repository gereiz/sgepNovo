import{j as n,o,f as a,a as w,u as g,w as y,F as f,Z as C,b as e,m as _,y as p,p as v,t as c}from"./app-b59ccc57.js";import{_ as B}from"./AuthenticatedLayout-f43d44cd.js";import"./toastr-0e92b8d6.js";import"./toastr-0012676b.js";import"./transition-513be258.js";import"./XMarkIcon-52eff867.js";const P={class:"w-full h-screen pt-24 pb-32 mx-2 md:mx-4"},R=e("div",{class:"w-full h-14 flex mb-2"},[e("div",{class:"sm:w-2/12 h-14 flex items-center"},[e("h1",{class:"titulo"},"Painéis por Cliente")])],-1),S={class:"card w-full h-full bg-base-100 shadow-xl overflow-auto rounded-md"},L={class:"card-body space-y-10"},k={class:"w-full flex flex-col flex-wrap md:flex-row"},D={class:"w-full sm:w-10/12 flex flex-wrap space-y-6 sm:space-y-0 sm:space-x-6"},I={class:"w-full sm:w-1/12 flex flex-col"},T=e("label",{for:"cliente"},"Ano",-1),G=e("option",{value:"0",disabled:"",selected:""},"Selecione",-1),M=["value"],V={class:"w-full sm:w-3/12 flex flex-col"},H=e("label",{for:"cliente"},"Bi-semana",-1),A=["disabled"],E=e("option",{value:"0",disabled:"",selected:""},"Selecione",-1),U=["value"],$={class:"w-full sm:w-10/12 flex flex-wrap space-y-6 sm:space-y-0 space-x-6"},j={class:"w-full sm:w-6/12 flex flex-wrap sm:space-x-4 space-y-6 sm:space-y-0"},F={class:"w-full sm:w-5/12 flex flex-col"},N=e("label",{for:"cliente"},"Orientação",-1),O=e("option",{value:"",disabled:"",selected:""},"Selecione",-1),X=e("option",{value:"R"},"A4 - Retrato",-1),Z=e("option",{value:"P"},"A4 - Paisagem",-1),q=[O,X,Z],z={class:"w-full sm:w-5/12 flex flex-col items-center sm:items-start justify-center"},se={__name:"RelPainXCli",props:["anos"],setup(x){const d=n([]),i=n(0),r=n(0),u=n("P");function h(){axios.post("/getBisemanas",{anoId:i.value}).then(l=>{d.value=l.data}).catch(l=>{console.log(l)})}function b(){let l=document.getElementById("gera_rel");l.innerHTML="Carregando...",axios.post("/setPaineisCliente",{anoId:i.value,bsId:r.value,orient:u.value}).then(t=>{console.log("pegou os dados"),axios.get("/getPaineisCliente").then(s=>{console.log("Gerou"),setTimeout(()=>{l.innerHTML="Gerar Relatório",window.open("/getPaineisCliente","_blank")},3e3)}).catch(s=>{console.log(s)})}).catch(t=>{console.log(t),l.innerHTML="Erro ao Gerar!",setTimeout(()=>{l.innerHTML="Gerar Relatório"},3e3)})}return(l,t)=>(o(),a(f,null,[w(g(C),{title:"Relatórios"}),w(B,null,{default:y(()=>[e("div",P,[R,e("div",S,[e("div",L,[e("div",k,[e("div",D,[e("div",I,[T,_(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),onChange:t[1]||(t[1]=s=>h())},[G,(o(!0),a(f,null,v(x.anos,(s,m)=>(o(),a("option",{key:m,value:s.id},c(s.ano_bisemana),9,M))),128))],544),[[p,i.value]])]),e("div",V,[H,_(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":t[2]||(t[2]=s=>r.value=s),disabled:d.value.length===0},[E,(o(!0),a(f,null,v(d.value,(s,m)=>(o(),a("option",{key:m,value:s.id},"BS: "+c(s.num_bisemana)+" "+c(new Date(s.inicio).toLocaleDateString())+" até "+c(new Date(s.fim).toLocaleDateString()),9,U))),128))],8,A),[[p,r.value]])])])]),e("div",$,[e("div",j,[e("div",F,[N,_(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>u.value=s),class:"select select-bordered w-full max-w-xs",disabled:""},q,512),[[p,u.value]])]),e("div",z,[e("button",{id:"gera_rel",class:"botao-primario w-11/12 sm:w-fit sm:px-4 -ms-3.5 sm:-ms-0 mt-5",onClick:t[4]||(t[4]=s=>b())},"Gerar Relatório")])])])])])])]),_:1})],64))}};export{se as default};
