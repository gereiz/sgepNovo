import{o as w,f as y,b as e,j as o,k as S,c as Z,w as p,a as l,u as n,d as B,m as F,v as N,z as Y,x as H,h as J,g as K,F as R,p as Q,t as j,l as W}from"./app-cc449fe3.js";import{_ as X,a as ee}from"./painel_conv-45a82d16.js";import{_ as se}from"./regiao-35565801.js";import{a as te}from"./functions-56098775.js";import{s as ae}from"./vue-multiselect.esm-0ef9c773.js";import"./toastr-26786df3.js";import{r as D}from"./ClipboardDocumentCheckIcon-850fd814.js";import{Y as G,h as V,G as U,V as E,S as T}from"./transition-da6d0184.js";import oe from"./ModalPiRes-10114ec9.js";import"./toastr-38af5969.js";/* empty css                   */import"./html2pdf-63a74ed2.js";import"./StepOnePi-f7cf6aaa.js";import"./maska-1eacf752.js";import"./UserCircleIcon-4fef8515.js";import"./StepTwoPi-1c4d800d.js";import"./StepThreePi-e6dbbbc5.js";import"./XMarkIcon-6d17bc51.js";function q(h,C){return w(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0ZM8.94 6.94a.75.75 0 1 1-1.061-1.061 3 3 0 1 1 2.871 5.026v.345a.75.75 0 0 1-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 1 0 8.94 6.94ZM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}const le=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ne={class:"fixed inset-0 z-10 overflow-y-auto"},ie={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},re={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"},ce={class:"mt-3 text-center sm:mt-5 space-y-4"},de=e("span",{class:"text-red-500 font-extrabold"},null,-1),me={class:"w-full flex flex-col items-center justify-end"},ue={class:"w-11/12 flex flex-col flex-wrap"},fe=e("label",{for:"campanha",class:"block text-sm font-medium leading-6 text-gray-900"},[B("Inclua o Título da Campanha. "),e("span",{class:"text-red-500 italic"}," (Obrigatório) ")],-1),ve={class:"w-full flex flex-col items-center justify-end"},pe={class:"w-11/12 flex flex-col flex-wrap"},he=e("label",{for:"obsevacoes",class:"block text-sm font-medium leading-6 text-gray-900"},[B("Inclua observações sobre a reseva. "),e("span",{class:"text-red-500 italic"}," (opcional) ")],-1),xe={class:"w-full mt-2"},ge={class:"mt-5 sm:mt-6 w-full space-y-4 space-x-2 border-t border-gray-200 pt-4"},_e={__name:"ConfirmaReserva",props:["open"],emits:["campanha","obsevacoes","closeObs"],setup(h,{emit:C}){const b=h,m=C,c=o(""),u=o(""),f=o(!1);S(()=>b.open,x=>{x===!0&&(f.value=!0)});function _(){c.value="",u.value="",m("campanha",c.value),m("observacoes",u.value)}function k(){f.value=!1,m("closeObs",f.value)}function P(){m("campanha",c.value),m("observacoes",u.value),k()}return(x,a)=>(w(),Z(n(T),{as:"template",show:f.value},{default:p(()=>[l(n(G),{as:"div",class:"relative z-10"},{default:p(()=>[l(n(V),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[le]),_:1}),e("div",ne,[e("div",ie,[l(n(V),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[l(n(U),{class:"relative transform overflow-hidden rounded-lg bg-white w-full sm:w-[42.5%] sm:p-6 sm:ml-[15%] sm:my-4 pb-4 pt-5 text-left shadow-xl transition-all"},{default:p(()=>[e("div",null,[e("div",re,[l(n(D),{class:"h-6 w-6 text-green-600","aria-hidden":"true"})]),e("div",ce,[l(n(E),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:p(()=>[B(" Informe a Campanha e Observações sobre a reserva. "),de]),_:1}),e("div",me,[e("div",ue,[fe,F(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=v=>c.value=v),name:"campanha",id:"campanha",class:"block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Informar campanha"},null,512),[[N,c.value]])])]),e("div",ve,[e("div",pe,[he,e("div",xe,[F(e("textarea",{rows:"4",name:"obsevacoes",id:"obsevacoes","onUpdate:modelValue":a[1]||(a[1]=v=>u.value=v),class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[N,u.value]])])])]),e("div",ge,[e("label",{class:"mt-3 inline-flex w-5/12 justify-center rounded-md bg-gray-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-5/12",onClick:a[2]||(a[2]=v=>(k(),_()))}," Cancelar "),e("label",{class:"inline-flex w-5/12 justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 sm:ml-3 sm:w-5/12",onClick:a[3]||(a[3]=v=>P())}," Confirmar ")])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},we={class:"w-full flex flex-wrap sm:flex-none mt-2 space-y-4 sm:space-y-0"},be={class:"sm:w-4/12 w-full justify-center"},ye={class:"w-10/12 ms-10 relative mt-2 rounded-md shadow-sm"},ke={class:"sm:w-6/12 w-full justify-center"},Ce={class:"w-10/12 relative ms-10 sm:ms-0 mt-1 rounded-md shadow-sm"},Pe={class:"w-full flex"},$e={class:"w-9/12 me-4"},je={class:"w-2/12"},Oe={key:0,class:"sm:w-1/12 w-full sm:-ms-20"},Ve={key:1,class:"sm:w-1/12 w-full sm:-ms-20"},Be={class:"card w-full h-[28rem] sm:h-[36rem] bg-base-100 border border-base-200 shadow-xl overflow-auto rounded-md"},Ie={class:"card-body flex flex-col sm:flex-row"},Ae={class:"w-full flex flex-col flex-wrap md:flex-row"},Le=["id"],ze=["id","onClick"],Me={class:"w-full flex-col sm:flex sm:flex-wrap"},Fe={class:"w-full flex justify-between max-h-8 -mt-4"},Ne={key:0,class:"mb-2 w-6 h-6 sm:w-8 sm:h-8 sm:hover:w-10 sm:hover:h-10 transition-all duration-1000",src:X,alt:"Painel Nobre",title:"Painel Nobre"},Re={key:1,class:"mb-2 w-6 h-6 sm:w-8 sm:h-8 sm:hover:w-10 sm:hover:h-10 transition-all duration-1000",src:ee,alt:"Painel Convêncional",title:"Painel Convêncional"},Se={class:"text-xs sm:text-lg font-bold text-red-500"},qe={class:"w-full flex flex-wrap sm:flex-nowrap justify-center my-2 sm:-ml-2 space-x-2"},De={class:"w-full flex justify-center sm:w-6/12"},Ge=["src"],Ue={class:"w-full sm:w-6/12"},Ee={class:"sm:flex flex-wrap"},Te={class:"w-full flex flex-col items-center space-y-3 mt-4 sm:mt-0"},Ze={class:"text-xs sm:text-md font-extrabold"},Ye={class:"text-xs sm:card-md"},He=e("p",{class:"text-xs sm:text-md hover:text-red-700 sm:ml-4"}," Ver Localização ",-1),Je=["href"],Ke=e("img",{class:"w-6 h-6 ms-4 -mt-1 sm:hover:w-10 sm:hover:h-10 transition-all duration-500",src:se,alt:"Mapa"},null,-1),Qe=[Ke],We={__name:"GridPaineis",props:["tipoPainel","cliente","bisemana","paineis"],emits:["checkedPaineis","checkedPaineisId","campanha","observacoes"],setup(h,{emit:C}){const b=h,m=C,c=o(""),u=o(""),f=o(""),_=o(""),k=o(""),P=o(b.paineis),x=o([]),a=o([]),v=o([]);let I=Y([]);H(()=>{O()}),S(()=>_.value,i=>{m("campanha",_.value),m("observacoes",k.value)});function $(i){i==="t"?f.value=!0:f.value=!1}const A=J(()=>P.value.filter(s=>String(s.identificacao).toLowerCase().indexOf(c.value.toLowerCase())>-1));function L(i,s,t){u.value=x.value[i],u.classList,Object.values(a.value).includes(s)?(a.value.splice(a.value.indexOf(s),1),v.value.splice(a.value.indexOf(t),1)):(a.value.push(s),v.value.push(t),document.getElementById(s).classList.add("hidden")),m("checkedPaineis",a.value),m("checkedPaineisId",v.value)}function O(){axios.post("/GetPaineis",{statusPainel:b.tipoPainel,bisemana:b.bisemana}).then(i=>{P.value=i.data}).catch(i=>{console.log(i)})}function z(i){if(b.ambiente=="local")var s="http://localhost:8000/storage/"+i;else var s="/storage/"+i;return s}function r(){a.value=[],v.value=[],x.value.forEach(s=>{s.classList.remove("hidden")})}function d(i){_.value=i}function g(i){k.value=i}return(i,s)=>(w(),y(R,null,[e("div",we,[e("div",be,[e("div",ye,[F(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),name:"pesquisa_painel",id:"pesquisa_painel",class:"block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Pesquisar Painel"},null,512),[[N,c.value]])])]),e("div",ke,[e("div",Ce,[e("div",Pe,[e("div",$e,[l(n(ae),{disabled:"",modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=t=>a.value=t),options:n(I),multiple:!0,"close-on-select":!0,"show-labels":!0,placeholder:"Painéis Selecionados"},null,8,["modelValue","options"])]),e("div",je,[e("button",{onClick:s[2]||(s[2]=t=>r()),class:"botao max-h-10 bg-red-700 hover:bg-red-500"},"Limpar")])])])]),a.value.length>0&&_.value==""?(w(),y("div",Oe,[e("button",{title:"Preencher Campanha e Observações",onClick:s[3]||(s[3]=t=>$("t"))},[l(n(q),{class:"-mt-1 w-14 h-14 sm:w-14 sm:h-14 text-red-600 hover:text-red-700 transition-all duration-1000 animate-bounce"})])])):a.value.length>0&&_.value!=""?(w(),y("div",Ve,[e("button",{title:"Campanha e Observações preenchidos",onClick:s[4]||(s[4]=t=>$("t"))},[l(n(q),{class:"-mt-1 w-14 h-14 sm:w-14 sm:h-14 text-green-600 hover:text-green-700 transition-all duration-1000 animate-bounce"})])])):K("",!0)]),e("div",Be,[e("div",Ie,[e("div",Ae,[(w(!0),y(R,null,Q(A.value,(t,M)=>(w(),y("div",{key:M,ref_for:!0,ref_key:"itemRefs",ref:x,id:t.identificacao,class:"card w-full sm:w-[30%] card-reserva-cliente"},[e("div",{class:"card-body flex",id:M,onClick:ns=>L(M,t.identificacao,t.id)},[e("div",Me,[e("div",Fe,[t.tipo==="1"?(w(),y("img",Ne)):(w(),y("img",Re)),e("span",Se,"Identificação.: "+j(t.identificacao),1)]),e("div",qe,[e("div",De,[e("img",{class:"w-[240px] h-[140px] hover:scale-150 transition-all duration-1000 rounded-md",src:z(t.image_url),alt:"Foto-painel"},null,8,Ge)]),e("div",Ue,[e("div",Ee,[e("div",Te,[e("p",Ze,"Bairro: "+j(t.bnome),1),e("p",Ye,j(t.logradouro)+" - "+j(t.numero),1),He,e("a",{href:n(te)(t.latitude,t.longitude),target:"_blank"},Qe,8,Je)])])])])])],8,ze)],8,Le))),128))])])]),l(_e,{open:f.value,onCloseObs:$,onCampanha:s[5]||(s[5]=t=>d(t)),onObservacoes:s[6]||(s[6]=t=>g(t))},null,8,["open"])],64))}},Xe=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),es={class:"fixed inset-0 z-10 overflow-y-auto"},ss={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ts={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"},as={class:"mt-3 text-center sm:mt-5"},os={class:"text-red-500 font-extrabold"},ls={class:"mt-5 sm:mt-6 w-full space-y-4 space-x-2 border-t border-gray-200 pt-4"},Ps={__name:"AddReserva",props:["openAdd","cliente","bisemana","paineis"],emits:["closeAdd"],setup(h,{emit:C}){const b=h,m=C,c=o(!1),u=o(!1),f=o([]),_=o([]),k=o(""),P=o(""),x=o("");S(()=>b.openAdd,r=>{r===!0&&(c.value=!0,$())});function a(r){f.value=[],f.value.push(r)}function v(r){_.value=[],_.value.push(r)}function I(r){k.value=r}function $(){W.post("/getBisemana",{idBs:b.bisemana}).then(r=>{x.value=r.data,console.log(x.value)})}function A(r){P.value=r}function L(r){r==="t"&&(u.value=!0)}function O(){c.value=!1,m("closeAdd",c.value)}function z(){u.value=!1}return(r,d)=>(w(),y(R,null,[l(n(T),{as:"template",show:c.value},{default:p(()=>[l(n(G),{as:"div",class:"relative z-10"},{default:p(()=>[l(n(V),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[Xe]),_:1}),e("div",es,[e("div",ss,[l(n(V),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[l(n(U),{class:"relative transform overflow-hidden rounded-lg bg-white w-full sm:w-[82.5%] sm:p-6 sm:my-4 pb-4 pt-5 text-left shadow-xl transition-all"},{default:p(()=>[e("div",null,[e("div",ts,[l(n(D),{class:"h-6 w-6 text-green-600","aria-hidden":"true"})]),e("div",as,[l(n(E),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:p(()=>[B(" Reservar painéis para o cliente: "),e("span",os,j(h.cliente.nome_fantasia?h.cliente.nome_fantasia:h.cliente.razao_social),1)]),_:1}),l(We,{tipoPainel:"D",bisemana:x.value,paineis:h.paineis,onCheckedPaineis:d[0]||(d[0]=g=>a(g)),onCheckedPaineisId:d[1]||(d[1]=g=>v(g)),onCampanha:d[2]||(d[2]=g=>I(g)),onObservacoes:d[3]||(d[3]=g=>A(g))},null,8,["bisemana","paineis"]),e("div",ls,[e("label",{class:"mt-3 inline-flex w-5/12 justify-center rounded-md bg-gray-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-5/12",onClick:d[4]||(d[4]=g=>O())}," Cancelar "),e("label",{class:"inline-flex w-5/12 justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 sm:ml-3 sm:w-5/12",onClick:d[5]||(d[5]=g=>L("t"))}," Reservar ")])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),l(oe,{openPi:u.value,paineis:f.value,campanha:k.value,onClosePi:z,onCloseAdd:O,cliente:h.cliente,bisemana:x.value},null,8,["openPi","paineis","campanha","cliente","bisemana"])],64))}};export{Ps as default};
