import{j as o,o as a,f as n,a as h,u as S,w as k,F as m,Z as B,b as e,k as _,x as f,l as w,t as c}from"./app-33d20e05.js";import{_ as D}from"./AuthenticatedLayout-60086f26.js";import"./toastr.min-88b7e0c9.js";import"./_plugin-vue_export-helper-c27b6911.js";const V={class:"w-full h-screen pt-24 pb-32 mx-2 md:mx-4"},L=e("div",{class:"w-full h-14 flex mb-2"},[e("div",{class:"sm:w-2/12 h-14 flex items-center"},[e("h1",{class:"titulo"},"Reservas por Cliente")])],-1),I={class:"card w-full h-full bg-base-100 shadow-xl overflow-auto rounded-md"},U={class:"card-body space-y-10"},A={class:"w-full flex flex-col flex-wrap md:flex-row"},M={class:"w-full sm:w-10/12 flex flex-wrap space-y-6 sm:space-y-0 sm:space-x-6"},P={class:"w-full sm:w-[20%] flex flex-col"},T=e("label",{for:"cliente"},"Cliente",-1),$=e("option",{value:"0",disabled:"",selected:""},"Selecione",-1),j=["value"],E={class:"w-full sm:w-1/12 flex flex-col"},F=e("label",{for:"cliente"},"Ano",-1),G=e("option",{value:"0",disabled:"",selected:""},"Selecione",-1),H=["value"],N={class:"w-full sm:w-3/12 flex flex-col"},z=e("label",{for:"cliente"},"Bi-semana",-1),O=["disabled"],Z=e("option",{value:"0",disabled:"",selected:""},"Selecione",-1),q=["value"],J={class:"w-full sm:w-10/12 flex flex-wrap space-y-6 sm:space-y-0 space-x-6"},K={class:"w-full sm:w-6/12 flex flex-wrap sm:space-x-4 space-y-6 sm:space-y-0"},Q={class:"w-full sm:w-5/12 flex flex-col"},W=e("label",{for:"cliente"},"Orientação",-1),X=e("option",{value:"",disabled:"",selected:""},"Selecione",-1),Y=e("option",{value:"R"},"A4 - Retrato",-1),ee=e("option",{value:"P"},"A4 - Paisagem",-1),se=[X,Y,ee],le={class:"w-full sm:w-5/12 flex flex-col items-center sm:items-start justify-center"},ie={__name:"RelReservaCliente",props:["clientes","anos"],setup(b){const x=b,R=o(x.clientes),g=o(x.anos),v=o(""),d=o(0),r=o(0),u=o(0),p=o("P");function y(){axios.post("/setRelReservaCliente",{anoBs:r.value}).then(t=>{v.value=t.data}).catch(t=>{console.log(t)})}function C(){let t=document.getElementById("gera_rel");axios.post("/setRelReservaCliente",{numBs:u.value,cliente:d.value}).then(l=>{t.innerHTML="Carregando..."}).catch(l=>{console.log(l)}),axios.post("/getRelReservaCliente",{cliente:d.value,ano:r.value,bisemana:u.value,orient:p.value}).then(l=>{setTimeout(()=>{t.innerHTML="Gerar Relatório",window.open("/getRelReservaCliente","_blank")},3e3)}).catch(l=>{console.log(l)})}return(t,l)=>(a(),n(m,null,[h(S(B),{title:"Relatórios"}),h(D,null,{default:k(()=>[e("div",V,[L,e("div",I,[e("div",U,[e("div",A,[e("div",M,[e("div",P,[T,_(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[0]||(l[0]=s=>d.value=s)},[$,(a(!0),n(m,null,w(R.value,(s,i)=>(a(),n("option",{key:i,value:s.id},c(s.nome_fantasia?s.nome_fantasia:s.razao_social),9,j))),128))],512),[[f,d.value]])]),e("div",E,[F,_(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[1]||(l[1]=s=>r.value=s),onChange:l[2]||(l[2]=s=>y())},[G,(a(!0),n(m,null,w(g.value,(s,i)=>(a(),n("option",{key:i,value:s.id},c(s.ano_bisemana),9,H))),128))],544),[[f,r.value]])]),e("div",N,[z,_(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[3]||(l[3]=s=>u.value=s),disabled:v.value.length===0},[Z,(a(!0),n(m,null,w(v.value,(s,i)=>(a(),n("option",{key:i,value:s.id},"BS: "+c(s.num_bisemana)+" "+c(new Date(s.inicio).toLocaleDateString())+" até "+c(new Date(s.fim).toLocaleDateString()),9,q))),128))],8,O),[[f,u.value]])])])]),e("div",J,[e("div",K,[e("div",Q,[W,_(e("select",{"onUpdate:modelValue":l[4]||(l[4]=s=>p.value=s),class:"select select-bordered w-full max-w-xs",disabled:""},se,512),[[f,p.value]])]),e("div",le,[e("button",{id:"gera_rel",class:"botao-primario w-11/12 sm:w-fit sm:px-4 -ms-3.5 sm:-ms-0 mt-5",onClick:l[5]||(l[5]=s=>C())},"Gerar Relatório")])])])])])])]),_:1})],64))}};export{ie as default};
