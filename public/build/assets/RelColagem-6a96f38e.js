import{j as t,o as a,f as n,a as C,u as D,w as U,F as c,Z as L,b as e,k as r,q as u,l as f,t as d}from"./app-ba13e3b8.js";import{_ as $}from"./AuthenticatedLayout-1c89a9dd.js";import{u as A}from"./toastr-2dc4eb83.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./toastr.min-c91e194f.js";const M={class:"w-full h-screen pt-24 pb-32 mx-2 md:mx-4"},P=e("div",{class:"w-full h-14 flex mb-2"},[e("div",{class:"sm:w-2/12 h-14 flex items-center"},[e("h1",{class:"titulo"},"Relatório de Colagem")])],-1),j={class:"card w-full h-full bg-base-100 shadow-xl overflow-auto rounded-md"},E={class:"card-body space-y-10"},F={class:"w-full flex flex-col flex-wrap md:flex-row"},G={class:"w-full sm:w-10/12 flex flex-wrap space-y-6 sm:space-y-0 sm:space-x-6"},H={class:"w-full sm:w-1/12 flex flex-col"},N=e("label",{for:"cliente"},"Ano",-1),q=e("option",{value:"0",disabled:"",selected:""},"Selecione",-1),O=["value"],Z={class:"w-full sm:w-3/12 flex flex-col"},z=e("label",{for:"cliente"},"Bi-semana",-1),J=["disabled"],K=e("option",{value:"0",disabled:"",selected:""},"Selecione",-1),Q=["value"],W={class:"w-full sm:w-5/12 flex flex-col"},X=e("label",{for:"cliente"},"Orientação",-1),Y=e("option",{value:"",disabled:"",selected:""},"Selecione",-1),ee=e("option",{value:"R"},"A4 - Retrato",-1),se=e("option",{value:"P"},"A4 - Paisagem",-1),le=[Y,ee,se],oe={class:"w-full sm:w-10/12 flex flex-wrap space-y-6 sm:space-y-0 sm:space-x-6"},te={class:"w-full sm:w-[20%] flex flex-col"},ae=e("label",{for:"cidade"},"Cidade",-1),ne=["disabled"],ie=e("option",{value:"0",disabled:"",selected:""},"Todos",-1),de=["value"],ce={class:"w-full sm:w-[20%] flex flex-col"},re=e("label",{for:"regiao"},"Região",-1),ue=["disabled"],me=e("option",{value:"0",disabled:"",selected:""},"Todos",-1),fe=["value"],ve={class:"w-full sm:w-[20%] flex flex-col"},_e=e("label",{for:"bairro"},"Bairro",-1),pe=["disabled"],we=e("option",{value:"0",disabled:"",selected:""},"Todos",-1),xe=["value"],he={class:"w-full sm:w-4/12 flex flex-wrap sm:space-x-4 space-y-6 sm:space-y-0"},be={class:"w-full sm:w-5/12 flex flex-col items-center sm:items-start justify-center"},ke={__name:"RelColagem",props:["anos","cidades"],setup(x){const h=x,B=A();t(h.clientes);const k=t(h.anos),p=t(""),b=t(""),g=t("");t(0);const w=t(0),m=t(0),v=t(0),_=t(0),R=t(0),y=t("P");function I(){axios.post("/setRelReservaCliente",{anoBs:w.value}).then(o=>{p.value=o.data}).catch(o=>{console.log(o)})}function S(){axios.post("/setRegioes",{cidId:v.value}).then(o=>{b.value=o.data}).catch(o=>{console.log(o)})}function V(){axios.post("/setBairros",{regId:_.value}).then(o=>{g.value=o.data,console.log(o.data)}).catch(o=>{console.log(o)})}function T(){let o=document.getElementById("gera_rel");m.value!=0?axios.post("/setRelColagem",{numBs:m.value}).then(l=>{axios.get("/getRelColagem").then(()=>{console.log(l.data),o.innerHTML="Carregando...",setTimeout(()=>{o.innerHTML="Gerar Relatório",window.open("/getRelColagem","_blank")},3e3)}).catch(s=>{console.log(s)})}).catch(l=>{console.log(l)}):B.error("É preciso escolhar uma Bi-semana!")}return(o,l)=>(a(),n(c,null,[C(D(L),{title:"Relatórios"}),C($,null,{default:U(()=>[e("div",M,[P,e("div",j,[e("div",E,[e("div",F,[e("div",G,[e("div",H,[N,r(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[0]||(l[0]=s=>w.value=s),onChange:l[1]||(l[1]=s=>I())},[q,(a(!0),n(c,null,f(k.value,(s,i)=>(a(),n("option",{key:i,value:s.id},d(s.ano_bisemana),9,O))),128))],544),[[u,w.value]])]),e("div",Z,[z,r(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[2]||(l[2]=s=>m.value=s),disabled:p.value.length===0},[K,(a(!0),n(c,null,f(p.value,(s,i)=>(a(),n("option",{key:i,value:s.id},"BS: "+d(s.num_bisemana)+" "+d(new Date(s.inicio).toLocaleDateString())+" até "+d(new Date(s.fim).toLocaleDateString()),9,Q))),128))],8,J),[[u,m.value]])]),e("div",W,[X,r(e("select",{"onUpdate:modelValue":l[3]||(l[3]=s=>y.value=s),class:"select select-bordered w-full max-w-xs",disabled:""},le,512),[[u,y.value]])])])]),e("div",oe,[e("div",te,[ae,r(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[4]||(l[4]=s=>v.value=s),disabled:!m.value,onChange:l[5]||(l[5]=s=>S())},[ie,(a(!0),n(c,null,f(x.cidades,(s,i)=>(a(),n("option",{key:i,value:s.id},d(s.nome),9,de))),128))],40,ne),[[u,v.value]])]),e("div",ce,[re,r(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[6]||(l[6]=s=>_.value=s),disabled:!v.value,onChange:l[7]||(l[7]=s=>V())},[me,(a(!0),n(c,null,f(b.value,(s,i)=>(a(),n("option",{key:i,value:s.id},d(s.nome),9,fe))),128))],40,ue),[[u,_.value]])]),e("div",ve,[_e,r(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":l[8]||(l[8]=s=>R.value=s),disabled:!_.value},[we,(a(!0),n(c,null,f(g.value,(s,i)=>(a(),n("option",{key:i,value:s.id},d(s.nome),9,xe))),128))],8,pe),[[u,R.value]])]),e("div",he,[e("div",be,[e("button",{id:"gera_rel",class:"botao-primario w-11/12 sm:w-fit sm:px-4 -ms-3.5 sm:-ms-0 mt-5",onClick:l[9]||(l[9]=s=>T())},"Gerar Relatório")])])])])])])]),_:1})],64))}};export{ke as default};
