import{j as i,k as I,o as d,f as c,b as e,m as l,y,F as S,p as C,v,u as V,n as $,a as L,t as M,g as N}from"./app-4ff54ba4.js";import{j}from"./maska-1eacf752.js";import{u as H}from"./toastr-9d5d101a.js";import"./functions-f288217d.js";import z from"./DelComissaoUsu-cc5bb38b.js";import"./toastr-e1375ee3.js";/* empty css                   */import"./html2pdf-b46ecf0c.js";import"./ClipboardDocumentCheckIcon-3d599177.js";import"./transition-a4c308ad.js";const A={class:"w-full flex flex-col items-center justify-center space-y-8"},G={class:"w-full h-14 flex flex-col sm:flex-row mb-2 space-y-4 items-center justify-center"},P={class:"w-full sm:w-4/12 flex justify-center items-center space-x-2 mt-8 font-extrabold"},R=e("label",{for:"",class:"block text-lg font-medium leading-6 text-gray-900"},"Serviço:",-1),q=e("option",{value:"0",disabled:""},"Selecione um Serviço",-1),J=["value"],K={class:"w-10/12 sm:w-2/12"},O=e("label",{for:"desc_servico",class:"block text-sm font-medium leading-6 text-gray-900"},"Serviço",-1),Q={class:"mt-2"},W={class:"w-10/12 sm:w-1/12"},X=e("label",{for:"valor_comissao",class:"block text-sm font-medium leading-6 text-gray-900"},"Valor",-1),Y={class:"mt-2"},Z={class:"w-10/12 sm:w-2/12"},ee=e("label",{for:"tipo_comissao",class:"block text-sm font-medium leading-6 text-gray-900"},"Tipo:",-1),se={class:"mt-2"},oe=e("option",{value:"",disabled:""},"Selecione o tipo",-1),te=e("option",{value:"0"},"Valor",-1),ie=e("option",{value:"1"},"Porcentagem",-1),ne=[oe,te,ie],ae={key:0,class:"w-11/12 flex flex-wrap justify-center space-x-0 sm:space-x-6 space-y-4 sm:space-y-0 border sm:border-0 border-sky-300 rounded-lg mb-2 sm:mb-0"},le={class:"w-10/12 sm:w-2/12"},re=e("label",{for:"desc_servico",class:"block text-sm font-medium leading-6 text-red-500"},"Serviço",-1),de={class:"mt-2"},ce=["onUpdate:modelValue"],me={class:"w-10/12 sm:w-1/12"},ue=e("label",{for:"valor_comissao",class:"block text-sm font-medium leading-6 text-red-500"},"Valor",-1),ge={class:"mt-2"},ve=["onUpdate:modelValue"],fe={class:"w-10/12 sm:w-[10%]"},_e=e("label",{for:"tipo_comissao",class:"block text-sm font-medium leading-6 text-red-500"},"Tipo:",-1),pe={class:"mt-2"},xe=["onUpdate:modelValue"],ye=e("option",{value:"",disabled:""},"Selecione o tipo",-1),be=e("option",{value:"0"},"BRL",-1),we=e("option",{value:"1"},"%",-1),he=[ye,be,we],ke={class:"w-10/12 sm:w-3/12 flex justify-center sm:justify-start sm:pt-7 py-2 sm:py-0"},Se=["onClick"],Ce={class:"mt-5 sm:mt-6 w-full space-y-4 border-t border-gray-200 pt-4 sm:space-x-8"},Le={__name:"FormEditComissaoUsu",props:["usuario","servicos","comissoes"],emits:["closeEdit","sendFormComissao"],setup(f,{emit:U}){const E=f,b=U,_=H(),g=i(0),p=i(""),w=i(""),B=i(""),m=i(E.usuario.id),u=i(0),n=i(""),a=i(""),x=i(!1);function F(t){b("closeEdit",t)}const h=i({id_funcionario:m.value,id_servico:u.value,valor_comissao:n.value,tipo_comissao:a.value});I([B,m,u,n,a],t=>{h.value={id_funcionario:m.value,id_servico:u.value,valor_comissao:n.value,tipo_comissao:a.value}});function T(t){axios.post("/GetServico",{id_servico:t}).then(o=>{u.value=o.data.id,p.value=o.data}).catch(o=>{_.error(res.data.message)})}function k(){if(n.value==""&&(_.error("Informe o valor da comissão"),document.getElementById("valor_comissao").focus()),a.value==""&&(_.error("Informe o tipo da comissão"),document.getElementById("tipo_comissao").focus()),m.value!=0&&u.value!=0&&n.value!=""&&a.value!=""){b("sendFormComissao",h.value);let t=document.getElementById("btnSendServ");t.innerHTML="Carregando...",setTimeout(()=>{t.innerHTML="Salvar"},1e3)}}function D(t,o){t==="t"?(w.value=o,x.value=!0):(x.value=!1,window.location.reload())}return(t,o)=>(d(),c("div",A,[e("div",G,[e("div",P,[R,l(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>g.value=s),onChange:o[1]||(o[1]=s=>T(g.value)),class:"block w-8/12 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6"},[q,(d(!0),c(S,null,C(f.servicos,s=>(d(),c("option",{key:s.id,value:s.id},M(s.nome),9,J))),128))],544),[[y,g.value]])])]),e("div",{class:$([{hidden:g.value==0},"w-11/12 flex flex-wrap justify-center space-x-0 sm:space-x-6 space-y-4 sm:space-y-0 border sm:border-0 border-sky-300 rounded-lg py-4 mb-2 sm:mb-0"])},[e("div",K,[O,e("div",Q,[l(e("input",{type:"text",disabled:"",name:"desc_servico",id:"desc_servico","onUpdate:modelValue":o[2]||(o[2]=s=>p.value.nome=s),class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset font-bold ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-base sm:leading-6 text-center"},null,512),[[v,p.value.nome]])])]),e("div",W,[X,e("div",Y,[l(e("input",{type:"text",name:"valor_comissao",id:"valor_comissao","onUpdate:modelValue":o[3]||(o[3]=s=>n.value=s),class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 text-center","data-maska":`[\r
                            '##,##',\r
                            '###,##',\r
                            '####,##',\r
                            '#####,##'\r
                        ]`},null,512),[[v,n.value],[V(j)]])])]),e("div",Z,[ee,e("div",se,[l(e("select",{name:"tipo_comissao",id:"tipo_comissao","onUpdate:modelValue":o[4]||(o[4]=s=>a.value=s),class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6"},ne,512),[[y,a.value]])])])],2),(d(!0),c(S,null,C(f.comissoes,s=>(d(),c("div",{key:s.id,class:"w-10/12 flex items-center justify-around"},[s.id_funcionario===m.value?(d(),c("div",ae,[e("div",le,[re,e("div",de,[l(e("input",{type:"text",disabled:"",name:"desc_servico",id:"desc_servico","onUpdate:modelValue":r=>s.servico.nome=r,class:"block w-full rounded-md border-0 py-1.5 text-gray-400 shadow-sm ring-1 ring-inset font-bold ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-base sm:leading-6 text-center"},null,8,ce),[[v,s.servico.nome]])])]),e("div",me,[ue,e("div",ge,[l(e("input",{type:"text",disabled:"",name:"valor_comissao",id:"valor_comissao","onUpdate:modelValue":r=>s.valor=r,class:"block w-full rounded-md border-0 py-1.5 text-gray-400 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 text-center","data-maska":`[\r
                                '##,##',\r
                                '###,##',\r
                                '####,##',\r
                                '#####,##'\r
                            ]`},null,8,ve),[[v,s.valor],[V(j)]])])]),e("div",fe,[_e,e("div",pe,[l(e("select",{name:"tipo_comissao",id:"tipo_comissao","onUpdate:modelValue":r=>s.tipo_comissao=r,disabled:"",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm text-center sm:leading-6"},he,8,xe),[[y,s.tipo_comissao]])])]),e("div",ke,[e("label",{id:"btnSendServ",class:"inline-flex w-10/12 justify-center rounded-md bg-red-600 px-3 py-[0.6rem] text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3",onClick:r=>D("t",s)},"Excluir Comissão",8,Se)])])):N("",!0)]))),128)),L(z,{comissao:w.value,openDel:x.value,onSendFormComissao:k},null,8,["comissao","openDel"]),e("div",Ce,[e("label",{id:"btnSendServ",class:"inline-flex w-10/12 justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 sm:ml-3 sm:w-5/12",onClick:o[5]||(o[5]=s=>k())},"Salvar"),e("label",{class:"mt-3 inline-flex w-10/12 justify-center rounded-md bg-gray-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-5/12",onClick:o[6]||(o[6]=s=>F("f"))},"Cancelar")])]))}};export{Le as default};
