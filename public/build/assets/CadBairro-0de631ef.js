import{j as g,p as B,h as D,o as r,f as i,a as y,u as N,w as V,F as x,Z as q,b as o,t as d,k as n,v as p,l as k,e as j,q as A,O as h}from"./app-2fcade05.js";import{_ as E}from"./AuthenticatedLayout-b513efa8.js";import{u as F}from"./toastr-c4421c27.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./toastr.min-88fcecd3.js";const $="/build/assets/bairro-a75b3fa0.png",U={class:"w-full h-screen pt-24 pb-32 mx-2 md:mx-4"},L={class:"w-full h-14 flex mb-2"},M={class:"w-2/12 h-14 flex items-center"},R=o("h1",{class:"text-xl md:text-4xl font-bold"},"Bairros",-1),T={class:"text-lg md:text-2xl text-red-400 font-bold ml-2 md:ml-4"},z=o("div",{class:"w-10/12 flex justify-end"},[o("label",{for:"modal-bairro-add",class:"w-28 botao-modal text-sm"},"+ Novo Bairro")],-1),I={class:"w-full md:w-4/12"},P={class:"card w-full h-full bg-base-100 shadow-xl overflow-auto rounded-md"},Z={class:"card-body"},G={class:"w-full flex flex-col flex-wrap md:flex-row justify-center"},H={class:"card-body"},J={class:"w-full flex justify-between flex-wrap mb-4"},K={class:"w-full flex justify-between"},Q={class:"text-xs md:card-title"},W={class:"text-xs md:text-base font-bold text-zinc-400"},X=o("div",{class:"w-full flex justify-center md:justify-start mb-4 md:mb-0"},[o("img",{class:"w-20 md:w-32",src:$,alt:"Bairro"})],-1),Y={class:"w-full card-actions justify-center md:justify-end"},oo=["onClick"],eo=o("input",{type:"checkbox",id:"modal-bairro-add",class:"modal-toggle"},null,-1),to={for:"modal-bairro-add",class:"modal modal-bottom sm:modal-middle cursor-pointer"},so={class:"modal-box relative",for:""},lo=o("h3",{class:"font-bold text-lg"},"Adicionar Novo Bairro",-1),ao=["onSubmit"],ro={class:"w-full flex"},io={class:"w-full flex flex-col"},no=o("span",{class:"label-text ml-1"},"Nome",-1),co={class:"w-full flex flex-col"},mo=o("span",{class:"label-text ml-1"},"Região",-1),uo=o("option",{value:"0"},"Seleicione a Região",-1),_o=["value"],fo={class:"modal-action"},bo=o("input",{type:"checkbox",id:"modal-bairro-edit",class:"modal-toggle"},null,-1),xo={for:"modal-bairro-edit",class:"modal modal-bottom sm:modal-middle cursor-pointer"},po={class:"modal-box relative",for:""},ho={class:"h-12 border-b-2 font-bold text-center md:text-start"},vo={class:""},wo={class:"h-full flex flex-col border-b-2 font-bold text-center md:text-start space-x-4 space-y-4 pb-2"},go={class:"flex space-x-4"},Bo={class:"w-full"},yo=["onSubmit"],ko=o("span",{class:"label-text ml-1"},"Nome",-1),jo=o("span",{class:"card-title justify-center mb-4"},"ou",-1),qo={__name:"CadBairro",props:["bairros","regioes","errors"],setup(c){const m=c,a=F(),u=g(""),_=g(""),s=B({nome:"",regiao_id:0}),l=B({nome_edit:"",id_bairro:""});function C(f,e){u.value=e,l.nome_edit=e,l.id_bairro=f}function v(){s.nome==""||s.nome.length<3?a.error("O nome do Bairro deve ter no mínimo 3 caracteres!"):s.regiao_id==0?(a.error("O Bairro deve pertencer a uma região!"),s.regiao_id=0):(h.post("/AddBairro",this.formBairroAdd),m.errors.regiao_id==null&&m.errors.nome==null&&(a.success("Bairro "+s.nome+" cadastrado!"),s.nome="",s.regiao_id=0))}function w(){l.nome_edit.length<3?a.error("O nome do Bairro deve ter no mínimo 3 caracteres!"):(h.post("/EditBairro",l),a.success("Bairro "+l.nome_edit+" editado para "+l.nome_edit+" !"))}function S(){h.post("/DelBairro",l),a.success("Bairro "+u.value+" excluído!")}const O=D(()=>Object.values(m.bairros).filter(e=>e.nome.toLowerCase().indexOf(_.value.toLowerCase())>-1));return(f,e)=>(r(),i(x,null,[y(N(q),{title:"Bairros"}),y(E,null,{default:V(()=>[o("div",U,[o("div",L,[o("div",M,[R,o("h1",T,d(c.bairros.length),1)]),z]),o("div",I,[n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t),placeholder:"Pesquisar Bairro",class:"w-full h-10 input input-bordered rounded-none mb-4",type:"text",name:"pesquisar",id:"pesquisar"},null,512),[[p,_.value]])]),o("div",P,[o("div",Z,[o("div",G,[(r(!0),i(x,null,k(O.value,(t,b)=>(r(),i("div",{key:b,class:"card w-full md:w-5/12 bg-base-100 border-2 rounded-md shadow-xl mt-4 md:mr-4"},[o("div",H,[o("div",J,[o("div",K,[o("h2",Q,"Bairro.: "+d(t.nome),1),o("h2",W,"ID: "+d(t.id),1)])]),X,o("div",Y,[o("label",{for:"modal-bairro-edit",onClick:Co=>C(t.id,t.nome),class:"w-full md:w-28 botao-modal"},"Ações",8,oo)])])]))),128))])])]),eo,o("label",to,[o("label",so,[lo,o("form",{onSubmit:j(v,["prevent"])},[o("div",ro,[o("div",io,[no,n(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.nome=t),class:"w-11/12 input input-bordered mb-4",type:"text",name:"nome_add",id:"nome_add"},null,512),[[p,s.nome]])]),o("div",co,[mo,n(o("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.regiao_id=t),name:"regiao_id",id:"regiao_id",class:"select select-bordered"},[uo,(r(!0),i(x,null,k(c.regioes,(t,b)=>(r(),i("option",{key:b,value:t.id},d(t.nome),9,_o))),128))],512),[[A,s.regiao_id]])])]),o("div",fo,[o("label",{onClick:e[3]||(e[3]=t=>v()),for:"modal-bairro-add",class:"botao-modal"},"Salvar")])],40,ao)])]),bo,o("label",xo,[o("label",po,[o("div",ho,[o("h1",vo,"Dados do Bairro: "+d(u.value),1)]),o("div",wo,[o("div",go,[o("div",Bo,[o("form",{onSubmit:j(w,["prevent"])},[ko,n(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.nome_edit=t),class:"w-full input input-bordered mb-4",type:"text"},null,512),[[p,l.nome_edit]]),o("label",{onClick:e[5]||(e[5]=t=>w()),for:"modal-bairro-edit",class:"botao-modal w-full bg-amber-500 hover:bg-amber-700 mb-4"},"Salvar Edição")],40,yo),jo,o("label",{onClick:e[6]||(e[6]=t=>S()),for:"modal-bairro-edit",class:"botao-modal w-full bg-red-500 hover:bg-red-800"},"Excluir Bairro")])])])])])])]),_:1})],64))}};export{qo as default};
