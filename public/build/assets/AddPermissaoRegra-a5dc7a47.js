/* empty css              */import{j as m,o as a,f as n,b as e,d as g,t as u,g as _,F as f,p as b}from"./app-a0ee21ef.js";import{u as p}from"./toastr-4cdd8a3e.js";import"./toastr-6cc5e9af.js";/* empty css                   */const v=e("input",{type:"checkbox",id:"modal-permissao",class:"modal-toggle"},null,-1),y={class:"modal flex items-end md:items-center"},w={class:"modal-box w-full flex flex-col"},k={class:"w-full flex items-center justify-center mb-4"},P=e("label",{for:"modal-permissao",class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1),j={key:0,class:"font-bold text-lg"},C={class:"font-semibold text-red-500"},T={class:"w-full flex-col flex justify-center mt-8"},B={class:"w-full flex flex-col my-4"},N={class:"flex items-start ms-10 my-2"},V={class:"flex h-6 items-center"},z=["checked","onChange"],E={class:"ml-3 text-sm leading-6"},F={for:"",class:"font-medium text-gray-900"},R={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},S=e("label",{for:"modal-permissao",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:ml-3 sm:mt-0 sm:w-auto"},"Cancelar",-1),G={__name:"AddPermissaoRegra",props:["listPermissions","role"],setup(t){const r=p(),d=m(""),o=m([]),h=(l,i)=>{d.value=l,o.value.includes(o.value.find(s=>s.id===i.id))?o.value=o.value.filter(s=>s.id!==i.id):o.value.push(i)},x=()=>{axios.post("/setPermissions",{role:d.value,permissions:o.value}).then(l=>{r.success("Permissões atualizadas com sucesso!"),setTimeout(()=>{location.reload()},1e3)}).catch(l=>{r.error("Erro ao atualizar permissões!"),setTimeout(()=>{location.reload()},1e3)})};return(l,i)=>(a(),n(f,null,[v,e("div",y,[e("div",w,[e("div",k,[P,t.role?(a(),n("h3",j,[g("Incluir Permissões na Regra: "),e("span",C,u(t.role.name),1)])):_("",!0)]),e("div",T,[e("div",B,[(a(!0),n(f,null,b(t.listPermissions,(s,$)=>(a(),n("div",N,[e("div",V,[e("input",{id:"permission","aria-describedby":"permission-description",name:"permission",type:"checkbox",checked:t.role.permissions.includes(t.role.permissions.find(c=>c.id===s.id)),onChange:c=>h(t.role,s),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,40,z)]),e("div",E,[e("label",F,u(s.name),1)])]))),256))]),e("div",R,[S,e("label",{for:"modal-permissao",class:"inline-flex w-full justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 sm:w-auto",onClick:i[0]||(i[0]=s=>x())},"Salvar")])])])])],64))}};export{G as default};
