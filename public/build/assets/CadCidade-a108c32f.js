import{o as u,f,p as F,b as e,t as m,d as V,F as p,r as $,j as _,k as E,m as w,v as g,z as C,h as D,a as r,u as N,w as x,Z as P,e as S,A as b}from"./app-a0ee21ef.js";import{_ as B}from"./AuthenticatedLayout-09baaa00.js";import{u as L}from"./toastr-4cdd8a3e.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import R from"./FormAddCidade-22a032e9.js";/* empty css              */import"./transition-ddbcad86.js";import"./XMarkIcon-434a425d.js";import"./toastr-6cc5e9af.js";/* empty css                   */const T={class:"card-body border-0"},U={class:"w-full flex justify-between flex-wrap mb-4"},z={class:"w-full flex justify-between"},I={class:"text-xs md:card-title"},M={class:"text-xs md:text-base font-bold text-zinc-400"},H={class:"w-full flex justify-center md:justify-start mb-4 md:mb-0"},Z=["src"],G=e("div",{class:"w-full card-actions justify-center md:justify-end"},[e("label",{for:"modal-cidade-edit",class:"w-full md:w-28 botao-primario"},"Ações")],-1),J={__name:"CardRegistro",props:["selection","imagem"],setup(s){function t(a){return`https://sgepequipe.com/storage/app/public/img/${a}`}return(a,i)=>(u(!0),f(p,null,F(s.selection,(n,l)=>(u(),f("div",{key:l,class:"card w-full md:w-5/12 bg-base-100 rounded-lg shadow-xl mt-4 md:mr-4"},[e("div",T,[e("div",U,[e("div",z,[e("h2",I,m(n.nome)+": ",1),e("h2",M,"ID: "+m(n.id),1)])]),V(" "+m(a.image)+" ",1),e("div",H,[e("img",{class:"w-20 md:w-32",src:t(s.imagem),alt:"Regiao"},null,8,Z)]),G])]))),128))}},K={},Q={class:"card w-full h-full overflow-auto rounded-md"},W={class:"card-body"},X={class:"w-full flex flex-col flex-wrap md:flex-row justify-center"};function Y(s,t){return u(),f("div",Q,[e("div",W,[e("div",X,[$(s.$slots,"default")])])])}const ee=O(K,[["render",Y]]),se={class:"w-full h-14 flex justify-between mb-2 -mt-[4.5rem] sm:mt-0"},te={class:"w-4/12 h-14 flex items-center"},de={class:"text-xl md:text-4xl font-bold"},oe={class:"text-lg md:text-2xl text-red-400 font-bold ml-2 md:ml-4"},ae={class:"w-full md:w-4/12 hidden sm:flex items-center justify-center"},ie=e("div",{class:"w-4/12 flex items-center justify-end"},[e("label",{for:"modal-cidade-add",class:"w-28 botao-modal text-sm"},"Add Novo")],-1),le={class:"w-full md:w-4/12 sm:hidden mb-4"},ne={__name:"HeaderCadastro",props:["titulo","dados"],emits:["pesquisa"],setup(s,{emit:t}){const a=t,i=_("");return E(i,(n,l)=>{a("pesquisa",n)}),(n,l)=>(u(),f(p,null,[e("div",se,[e("div",te,[e("h1",de,m(s.titulo),1),e("h1",oe,m(s.dados.length),1)]),e("div",ae,[w(e("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>i.value=d),placeholder:"Pesquisar Cidade",class:"w-full flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",type:"text",name:"pesquisar",id:"pesquisar"},null,512),[[g,i.value]])]),ie]),e("div",le,[w(e("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>i.value=d),placeholder:"Pesquisar Cidade",class:"w-full flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",type:"text",name:"pesquisar",id:"pesquisar"},null,512),[[g,i.value]])])],64))}},ce=e("input",{type:"checkbox",id:"modal-cidade-add",class:"modal-toggle"},null,-1),re={for:"modal-cidade-add",class:"modal modal-bottom sm:modal-middle cursor-pointer"},me={class:"modal-box relative",for:""},ue={class:"font-bold text-lg text-center mb-8"},fe={__name:"CardForm",props:["titulo"],setup(s){return(t,a)=>(u(),f(p,null,[ce,e("label",re,[e("label",me,[e("h3",ue,m(s.titulo),1),$(t.$slots,"default")])])],64))}},_e={class:"w-full h-screen pt-24 pb-32 mx-2 md:mx-4"},pe=e("input",{type:"checkbox",id:"modal-cidade-edit",class:"modal-toggle"},null,-1),he={for:"modal-cidade-edit",class:"modal modal-bottom sm:modal-middle cursor-pointer"},xe={class:"modal-box relative",for:""},be={class:"h-12 border-b-2 font-bold text-center md:text-start"},we={class:""},ge={class:"h-full flex flex-col border-b-2 font-bold space-x-4 space-y-4 pb-2"},ve={class:"flex space-x-4"},Ce={class:"w-full"},$e={class:"flex mt-2"},ye={class:"w-full flex flex-col"},je=e("span",{class:"label-text ml-1"},"Nome",-1),qe=e("span",{class:"card-title justify-center mb-4"},"ou",-1),Le={__name:"CadCidade",props:["cidades","uf","errors"],setup(s){const t=L(),a=s,i=_(""),n=_(""),l=C({nome:"",uf_id:0}),d=C({nome_edit:"",id_cidade:""}),y=_(a.cidades);function j(c){console.log(c),axios.post("/AddCidade",c).then(o=>{t.success("Cidade "+c.nome+" adicionada com sucesso!")}).catch(o=>{t.error("Erro ao adicionar Cidade!")}),b.reload()}function v(){d.nome_edit.length<3?t.error("O nome da Cidade deve ter no mínimo 3 caracteres!"):(b.post("/EditCidade",d),t.success("Cidade "+d.nome_edit+" editada para "+d.nome_edit+" !"))}function q(){b.post("/DelCidade",d),t.success("Cidade "+i.value+" excluída!")}const k=D(()=>Object.values(a.cidades).filter(o=>o.nome.toLowerCase().indexOf(n.value.toLowerCase())>-1)),A=c=>{n.value=c};return(c,o)=>(u(),f(p,null,[r(N(P),{title:"Cidades"}),r(B,null,{default:x(()=>[e("div",_e,[r(ne,{titulo:"Cidades",dados:y.value,onPesquisa:A},null,8,["dados"]),r(ee,null,{default:x(()=>[r(J,{selection:k.value,imagem:"cidade.png"},null,8,["selection"])]),_:1}),r(fe,{titulo:"Adicionar Cidade"},{default:x(()=>[r(R,{dados:l,select:s.uf,onCidadeAdd:j},null,8,["dados","select"])]),_:1}),pe,e("label",he,[e("label",xe,[e("div",be,[e("h1",we,"Dados da Cidade: "+m(i.value),1)]),e("div",ge,[e("div",ve,[e("div",Ce,[e("form",{onSubmit:S(v,["prevent"])},[e("div",$e,[e("div",ye,[je,w(e("input",{"onUpdate:modelValue":o[0]||(o[0]=h=>d.nome_edit=h),class:"w-full input input-bordered mb-4",type:"text"},null,512),[[g,d.nome_edit]])])]),e("label",{onClick:o[1]||(o[1]=h=>v()),for:"modal-cidade-edit",class:"botao-modal w-full bg-amber-500 hover:bg-amber-700 mb-4"},"Salvar Edição")],32),qe,e("label",{onClick:o[2]||(o[2]=h=>q()),for:"modal-cidade-edit",class:"botao-modal w-full bg-red-500 hover:bg-red-800"},"Excluir Região")])])])])])])]),_:1})],64))}};export{Le as default};
