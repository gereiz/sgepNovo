import{z as p,j as d,o as P,f as k,b as e,a as C,u as y,m,v as b,X as V,n as B,F as I}from"./app-b52412a9.js";import{u as z}from"./toastr-e4fe5257.js";import{s as M}from"./vue-multiselect.esm-98484ee2.js";import"./toastr-dc695ffc.js";/* empty css                   */const S=e("input",{type:"checkbox",id:"modal-add-painel",class:"modal-toggle"},null,-1),A={class:"modal flex items-end md:items-center"},E={class:"modal-box sm:max-w-[90rem] ml-[16.5%] modal-bottom mb-2"},T=e("div",{class:"flex mb-4"},[e("label",{for:"modal-add-painel",class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕"),e("h3",{class:"font-bold sm:text-lg"},"Incluir Painéis na Bi-semana selecionada")],-1),U={class:"w-full flex flex-col h-[80%] space-y-4"},$={class:"w-full flex flex-col"},j=e("label",{for:"cliente",class:"mb-2"},"Cliente",-1),N=["value"],R={class:"w-full flex flx-col flex-wrap mt-4"},F=e("label",{for:"paineis",class:"mb-2"},"Painéis",-1),O={class:"w-full flex flex-col"},q=e("span",{class:"label-text ml-1"},"Campanha",-1),D={class:"w-full flex flex-col"},L=e("span",{class:"label-text ml-1"},"Obseravação",-1),X=["disabled"],G={class:"w-full flex flex-col"},H={class:"form-control"},J={class:"cursor-pointer"},K=e("span",{class:"label-text text-lg sm:text-xl me-4"},"Existe P. I. para esta reserva?",-1),Q={method:"dialog",class:"modal-box bg-white"},W=e("h3",{class:"font-black text-2xl text-red-700 animate-pulse duration-200 text-center"},"ATENÇÃO!",-1),Y=e("p",{class:"py-4"},"Ao Marcar que existe uma P. I. para esta reserva não será mais possível alterá-la!",-1),Z=e("p",{class:"py-4"},"Confirme somente se tiver certeza da reserva.",-1),ee={class:"modal-action"},ae={class:"w-full flex justify-center space-x-4"},se={class:"modal-action"},ce={__name:"ModalAddPainCli",props:["clienteSel","idBisemana","idents"],emits:["atualizaPage"],setup(n,{emit:v}){const u=z(),r=n,x=v,h=t=>{x("atualizaPage",t)},_=p(r.idents),i=d([]),s=p({cliente:"",campanha:"",observ:""}),o=d(!1),f=d(null),c=d(!1);function g(){if(o.value){let t=f.value;c.value=!0,t.showModal()}}function w(){s.cliente=r.clienteSel.id,axios.post("/ResPaineisCli",{clienteId:s.cliente,outdoorId:i.value,bsId:r.idBisemana,campanha:s.campanha,obs:s.observ,checkPi:o.value}).then(t=>{t.data.cod===0?u.error(t.data.msg):t.data.cod==1&&(u.success(t.data.msg),s.cliente="",s.campanha="",s.observ="",i.value=[],o.value=!1)})}return(t,a)=>(P(),k(I,null,[S,e("div",A,[e("div",E,[T,e("div",U,[e("div",$,[j,e("input",{type:"text",class:"input input-bordered",name:"cliente",value:n.clienteSel.nome_fantasia?n.clienteSel.nome_fantasia:n.clienteSel.razao_social,id:"cliente",disabled:""},null,8,N)]),e("div",R,[F,C(y(M),{class:"w-full",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=l=>i.value=l),options:_,multiple:!0,searchable:!0,"close-on-select":!1,"show-labels":!1,"hide-selected":!0,"open-direction":"bottom",placeholder:"Todos",name:"Paineis"},null,8,["modelValue","options"])]),e("div",O,[q,m(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>s.campanha=l),type:"text",name:"campanha",id:"campanha",class:"input input-bordered"},null,512),[[b,s.campanha]])]),e("div",D,[L,m(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=l=>s.observ=l),name:"obs",id:"obs",class:"textarea textarea-bordered",disabled:n.idBisemana==0},null,8,X),[[b,s.observ]])]),e("div",G,[e("div",H,[e("label",J,[K,m(e("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=l=>o.value=l),onClick:a[4]||(a[4]=l=>(o.value=!o.value,g())),class:"checkbox checkbox-lg checkbox-success border-2 border-gray-400"},null,512),[[V,o.value]])])])]),e("dialog",{id:"modal_confirm",ref_key:"confPi",ref:f,class:B(["bg-transparent flex justify-center",{hidden:!c.value}])},[e("form",Q,[W,Y,Z,e("div",ee,[e("div",ae,[e("button",{class:"w-5/12 botao-primario",onClick:a[5]||(a[5]=l=>c.value=!1)},"Confirmar"),e("button",{onClick:a[6]||(a[6]=l=>(o.value=!1,c.value=!1)),class:"w-5/12 botao-danger"},"Ainda não !")])])])],2)]),e("div",se,[e("label",{for:"modal-add-painel",class:"w-full botao-modal",onClick:a[7]||(a[7]=l=>(w(),h(1)))},"Reservar")])])])],64))}};export{ce as default};
