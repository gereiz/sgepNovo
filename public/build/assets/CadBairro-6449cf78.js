import{j as g,z as B,h as D,o as r,f as i,a as y,u as F,w as N,F as p,Z as V,b as o,t as d,m as n,v as x,p as j,e as k,y as E,A as v}from"./app-3f6c8533.js";import{_ as O}from"./AuthenticatedLayout-b97da508.js";import{u as $}from"./toastr-3ac563a2.js";/* empty css              */import"./transition-0a21b9eb.js";import"./XMarkIcon-98d0a1e0.js";import"./toastr-60ef10c7.js";/* empty css                   */const q="/build/assets/bairro-a75b3fa0.png",U={class:"w-full h-screen pt-24 pb-32 mx-2 md:mx-4"},L={class:"w-full h-14 flex mb-2"},M={class:"w-2/12 h-14 flex items-center"},z=o("h1",{class:"text-xl md:text-4xl font-bold"},"Bairros",-1),R={class:"text-lg md:text-2xl text-red-400 font-bold ml-2 md:ml-4"},T=o("div",{class:"w-10/12 flex justify-end"},[o("label",{for:"modal-bairro-add",class:"w-28 botao-modal text-sm"},"+ Novo Bairro")],-1),I={class:"w-full md:w-4/12"},P={class:"card w-full h-full bg-base-100 shadow-xl overflow-auto rounded-md"},Z={class:"card-body"},G={class:"w-full flex flex-col flex-wrap md:flex-row justify-center"},H={class:"card-body"},J={class:"w-full flex justify-between flex-wrap mb-4"},K={class:"w-full flex justify-between"},Q={class:"text-xs md:card-title"},W={class:"text-xs md:text-base font-bold text-zinc-400"},X=o("div",{class:"w-full flex justify-center md:justify-start mb-4 md:mb-0"},[o("img",{class:"w-20 md:w-32",src:q,alt:"Bairro"})],-1),Y={class:"w-full card-actions justify-center md:justify-end"},oo=["onClick"],eo=o("input",{type:"checkbox",id:"modal-bairro-add",class:"modal-toggle"},null,-1),to={for:"modal-bairro-add",class:"modal modal-bottom sm:modal-middle cursor-pointer"},so={class:"modal-box relative",for:""},ao=o("h3",{class:"font-bold text-lg"},"Adicionar Novo Bairro",-1),lo={class:"w-full flex"},ro={class:"w-full flex flex-col"},io=o("span",{class:"label-text ml-1"},"Nome",-1),no={class:"w-full flex flex-col"},co=o("span",{class:"label-text ml-1"},"Região",-1),mo=o("option",{value:"0"},"Seleicione a Região",-1),uo=["value"],fo={class:"modal-action"},_o=o("input",{type:"checkbox",id:"modal-bairro-edit",class:"modal-toggle"},null,-1),bo={for:"modal-bairro-edit",class:"modal modal-bottom sm:modal-middle cursor-pointer"},po={class:"modal-box relative",for:""},xo={class:"h-12 border-b-2 font-bold text-center md:text-start"},vo={class:""},ho={class:"h-full flex flex-col border-b-2 font-bold text-center md:text-start space-x-4 space-y-4 pb-2"},wo={class:"flex space-x-4"},go={class:"w-full"},Bo=o("span",{class:"label-text ml-1"},"Nome",-1),yo=o("span",{class:"card-title justify-center mb-4"},"ou",-1),Eo={__name:"CadBairro",props:["bairros","regioes","errors"],setup(c){const l=$(),m=c,u=g(""),f=g(""),s=B({nome:"",regiao_id:0}),a=B({nome_edit:"",id_bairro:""});function C(_,e){u.value=e,a.nome_edit=e,a.id_bairro=_}function h(){s.nome==""||s.nome.length<3?l.error("O nome do Bairro deve ter no mínimo 3 caracteres!"):s.regiao_id==0?(l.error("O Bairro deve pertencer a uma região!"),s.regiao_id=0):(v.post("/AddBairro",this.formBairroAdd),m.errors.regiao_id==null&&m.errors.nome==null&&(l.success("Bairro "+s.nome+" cadastrado!"),s.nome="",s.regiao_id=0))}function w(){a.nome_edit.length<3?l.error("O nome do Bairro deve ter no mínimo 3 caracteres!"):(v.post("/EditBairro",a),l.success("Bairro "+a.nome_edit+" editado para "+a.nome_edit+" !"))}function S(){v.post("/DelBairro",a),l.success("Bairro "+u.value+" excluído!")}const A=D(()=>Object.values(m.bairros).filter(e=>e.nome.toLowerCase().indexOf(f.value.toLowerCase())>-1));return(_,e)=>(r(),i(p,null,[y(F(V),{title:"Bairros"}),y(O,null,{default:N(()=>[o("div",U,[o("div",L,[o("div",M,[z,o("h1",R,d(c.bairros.length),1)]),T]),o("div",I,[n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t),placeholder:"Pesquisar Bairro",class:"w-full h-10 input input-bordered rounded-none mb-4",type:"text",name:"pesquisar",id:"pesquisar"},null,512),[[x,f.value]])]),o("div",P,[o("div",Z,[o("div",G,[(r(!0),i(p,null,j(A.value,(t,b)=>(r(),i("div",{key:b,class:"card w-full md:w-5/12 bg-base-100 border-2 rounded-md shadow-xl mt-4 md:mr-4"},[o("div",H,[o("div",J,[o("div",K,[o("h2",Q,"Bairro.: "+d(t.nome),1),o("h2",W,"ID: "+d(t.id),1)])]),X,o("div",Y,[o("label",{for:"modal-bairro-edit",onClick:jo=>C(t.id,t.nome),class:"w-full md:w-28 botao-modal"},"Ações",8,oo)])])]))),128))])])]),eo,o("label",to,[o("label",so,[ao,o("form",{onSubmit:k(h,["prevent"])},[o("div",lo,[o("div",ro,[io,n(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.nome=t),class:"w-11/12 input input-bordered mb-4",type:"text",name:"nome_add",id:"nome_add"},null,512),[[x,s.nome]])]),o("div",no,[co,n(o("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.regiao_id=t),name:"regiao_id",id:"regiao_id",class:"select select-bordered"},[mo,(r(!0),i(p,null,j(c.regioes,(t,b)=>(r(),i("option",{key:b,value:t.id},d(t.nome),9,uo))),128))],512),[[E,s.regiao_id]])])]),o("div",fo,[o("label",{onClick:e[3]||(e[3]=t=>h()),for:"modal-bairro-add",class:"botao-modal"},"Salvar")])],32)])]),_o,o("label",bo,[o("label",po,[o("div",xo,[o("h1",vo,"Dados do Bairro: "+d(u.value),1)]),o("div",ho,[o("div",wo,[o("div",go,[o("form",{onSubmit:k(w,["prevent"])},[Bo,n(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.nome_edit=t),class:"w-full input input-bordered mb-4",type:"text"},null,512),[[x,a.nome_edit]]),o("label",{onClick:e[5]||(e[5]=t=>w()),for:"modal-bairro-edit",class:"botao-modal w-full bg-amber-500 hover:bg-amber-700 mb-4"},"Salvar Edição")],32),yo,o("label",{onClick:e[6]||(e[6]=t=>S()),for:"modal-bairro-edit",class:"botao-modal w-full bg-red-500 hover:bg-red-800"},"Excluir Bairro")])])])])])])]),_:1})],64))}};export{Eo as default};
