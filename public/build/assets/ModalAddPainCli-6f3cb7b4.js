import{p,j as c,o as k,f as w,b as e,a as P,u as C,k as m,v as b,x as y,n as V,F as B}from"./app-2fcade05.js";import{u as I}from"./toastr-c4421c27.js";import{s as M}from"./vue-multiselect.esm-d7710e48.js";import"./toastr.min-88fcecd3.js";const z=e("input",{type:"checkbox",id:"modal-add-painel",class:"modal-toggle"},null,-1),S={class:"modal flex items-end md:items-center"},A={class:"modal-box modal-bottom mb-2"},E=e("div",{class:"flex mb-4"},[e("label",{for:"modal-add-painel",class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕"),e("h3",{class:"font-bold sm:text-lg"},"Incluir Painéis na Bi-semana selecionada")],-1),T={class:"w-full flex flex-col h-[80%] space-y-4"},U={class:"w-full flex flex-col"},$=e("label",{for:"cliente",class:"mb-2"},"Cliente",-1),j=["value"],N={class:"w-full flex flx-col flex-wrap mt-4"},R=e("label",{for:"paineis",class:"mb-2"},"Painéis",-1),F={class:"w-full flex flex-col"},O=e("span",{class:"label-text ml-1"},"Campanha",-1),q={class:"w-full flex flex-col"},D=e("span",{class:"label-text ml-1"},"Obseravação",-1),L=["disabled"],G={class:"w-full flex flex-col"},H={class:"form-control"},J={class:"cursor-pointer"},K=e("span",{class:"label-text text-lg sm:text-xl me-4"},"Existe P. I. para esta reserva?",-1),Q={method:"dialog",class:"modal-box bg-white"},W=e("h3",{class:"font-black text-2xl text-red-700 animate-pulse duration-200 text-center"},"ATENÇÃO!",-1),X=e("p",{class:"py-4"},"Ao Marcar que existe uma P. I. para esta reserva não será mais possível alterá-la!",-1),Y=e("p",{class:"py-4"},"Confirme somente se tiver certeza da reserva.",-1),Z={class:"modal-action"},ee={class:"w-full flex justify-center space-x-4"},ae={class:"modal-action"},ne={__name:"ModalAddPainCli",props:["clienteSel","idBisemana","idents"],emits:["atualizaPage"],setup(n,{emit:v}){const r=n,u=I(),x=t=>{v("atualizaPage",t)},h=p(r.idents),i=c([]),s=p({cliente:"",campanha:"",observ:""}),o=c(!1),f=c(null),d=c(!1);function _(){if(o.value){let t=f.value;d.value=!0,t.showModal()}}function g(){s.cliente=r.clienteSel.id,axios.post("/ResPaineisCli",{clienteId:s.cliente,outdoorId:i.value,bsId:r.idBisemana,campanha:s.campanha,obs:s.observ,checkPi:o.value}).then(t=>{t.data.cod===0?u.error(t.data.msg):t.data.cod==1&&(u.success(t.data.msg),s.cliente="",s.campanha="",s.observ="",i.value=[],o.value=!1)})}return(t,a)=>(k(),w(B,null,[z,e("div",S,[e("div",A,[E,e("div",T,[e("div",U,[$,e("input",{type:"text",class:"input input-bordered",name:"cliente",value:n.clienteSel.nome_fantasia?n.clienteSel.nome_fantasia:n.clienteSel.razao_social,id:"cliente",disabled:""},null,8,j)]),e("div",N,[R,P(C(M),{class:"w-full",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=l=>i.value=l),options:h,multiple:!0,searchable:!0,"close-on-select":!1,"show-labels":!1,"hide-selected":!0,"open-direction":"bottom",placeholder:"Todos",name:"Paineis"},null,8,["modelValue","options"])]),e("div",F,[O,m(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>s.campanha=l),type:"text",name:"campanha",id:"campanha",class:"input input-bordered"},null,512),[[b,s.campanha]])]),e("div",q,[D,m(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=l=>s.observ=l),name:"obs",id:"obs",class:"textarea textarea-bordered",disabled:n.idBisemana==0},null,8,L),[[b,s.observ]])]),e("div",G,[e("div",H,[e("label",J,[K,m(e("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=l=>o.value=l),onClick:a[4]||(a[4]=l=>(o.value=!o.value,_())),class:"checkbox checkbox-lg checkbox-success border-2 border-gray-400"},null,512),[[y,o.value]])])])]),e("dialog",{id:"modal_confirm",ref_key:"confPi",ref:f,class:V(["bg-transparent flex justify-center",{hidden:!d.value}])},[e("form",Q,[W,X,Y,e("div",Z,[e("div",ee,[e("button",{class:"w-5/12 botao-primario",onClick:a[5]||(a[5]=l=>d.value=!1)},"Confirmar"),e("button",{onClick:a[6]||(a[6]=l=>(o.value=!1,d.value=!1)),class:"w-5/12 botao-danger"},"Ainda não !")])])])],2)]),e("div",ae,[e("label",{for:"modal-add-painel",class:"w-full botao-modal",onClick:a[7]||(a[7]=l=>(g(),x(1)))},"Reservar")])])])],64))}};export{ne as default};
